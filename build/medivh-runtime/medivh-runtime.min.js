!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MedivhRuntime=e():n.MedivhRuntime=e()}(this,function(){return function(n){function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="../",e(e.s=7)}([function(n,e,t){"use strict";t.d(e,"c",function(){return a}),t.d(e,"a",function(){return c}),t.d(e,"b",function(){return f}),t.d(e,"d",function(){return l});var r=t(4),o=t(1),u=t(9),i=t(5),a=r,c=o,f=u,l=i},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),t.d(e,"GLOBAL_RENDER",function(){return r}),t.d(e,"COMPONENT_RENDER",function(){return o}),t.d(e,"LOCATION",function(){return u}),t.d(e,"ID",function(){return i}),t.d(e,"VCOMPONENT",function(){return a}),t.d(e,"STATE",function(){return c}),t.d(e,"TYPE",function(){return f}),t.d(e,"COMPONENT_TYPE",function(){return l}),t.d(e,"COMPONENT_ID",function(){return d}),t.d(e,"PARENT_COMPONENT_ID",function(){return p}),t.d(e,"REF",function(){return s}),t.d(e,"LIEF_CYCLE",function(){return v}),t.d(e,"FUN_CALLBACK",function(){return y}),t.d(e,"LIEF_CYCLE_CALLBACK",function(){return m}),t.d(e,"STOP_PROPAGATION",function(){return E}),t.d(e,"PREVENT_DEFAULT",function(){return C}),t.d(e,"EVENT_LIST",function(){return g}),t.d(e,"IDENTITY",function(){return b}),t.d(e,"REMOVE_COMPONENTIDS",function(){return O}),t.d(e,"CONSTRUCTOR",function(){return _}),t.d(e,"INVOKE",function(){return h}),t.d(e,"INVOKE_CALLBACK",function(){return P}),t.d(e,"INVOKE_CALLBACK_ID",function(){return N}),t.d(e,"DOM_CREATE",function(){return A}),t.d(e,"DOM_APPENDCHILD",function(){return I}),t.d(e,"DOM_INSERTBEFORE",function(){return T}),t.d(e,"GET_RENDER_PARAM",function(){return $}),t.d(e,"SEND_RENDER_PARAM",function(){return R}),t.d(e,"REMOVE_ELE",function(){return L}),t.d(e,"ADD_ELE",function(){return M}),t.d(e,"CHANGGE_ELE",function(){return j});var r="global_render",o="component_render",u="$$location",i="$$com_fun_id",a="$$VCompoennt",c="$$state",f="$$type",l="$$ctp",d="$$componentId",p="$$parentComponentId",s="$$ref",v="$$lifecycle",y="function_callback",m="lifecycle_callback",E="StopPropagation",C="PreventDefault",g="$$event_list",b="$$identity",O="removeComponentIdList",_="$$construct",h="$$invoke",P="$$invoke_callback",N="$$fun_id$$",A="domCreate",I="domAppendChild",T="domInsertBefore",$="$$get_render_param",R="$$send_render_param",L=1,M=2,j=3},function(n,e,t){"use strict";var r=t(0),o=r.a.COMPONENT_ID,u=r.a.INVOKE_CALLBACK_ID,i=new Map,a=1,c=1,f=new Map,l={registerComponent:function(n){var e="webworker-"+a++,t=new Map;return t.set("data",new Map),t.set("children",[]),t.set("counter",1),t.set("component",n),i.set(e,t),n[o]=e,e},show:function(){console.log("size :",i.size)},registerParentComponent:function(n,e){if(null!=n){var t=i.get(n);if(t){t.get("children").push(e)}}},removeFun:function(n){i.get(n).get("data").clear()},pushRelativeIdByFunId:function(n,e){var t=f.get(n);t&&t.relativeIds.push(e)},registerFun:function(n,e,t,r,o){if(t[u])return t[u];if(null==n){var a="funCallback-"+c++;return t[u]=a,f.set(a,{value:t,keeped:o||t.$$keep,relativeIds:r||[]}),a}var l=i.get(n),d=l.get("counter")+1;l.set("counter",d);var p=n+"-"+d;return l.get("data").set(p,{context:e,method:t}),p},unregisterByComponentId:function(n){var e=i.get(n);if(null!=e){e.get("children").forEach(function(n){l.unregisterByComponentId(n),i.delete(n)})}},deleteByComponentId:function(n){l.unregisterByComponentId(n),i.delete(n)},getComponent:function(n){return i.get(n).get("component")},deletePureFun:function(n){return f.delete(n)},getPureFun:function(n){return f.get(n)},getFun:function(n,e){if(null==n){return f.get(e).value}var t=i.get(n);return null==t?t:t.get("data").get(e)}};e.a=l},function(n,e,t){"use strict";function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n){p.a.deleteByComponentId(n[s]);var e=n.props[O];e&&h(e)&&e()}function u(n){var e=n.props[O];e&&h(e)&&e(n)}function i(n,e,t){var r=n[e];r?n[e]=function(){for(var e=arguments.length,o=Array(e),u=0;u<e;u++)o[u]=arguments[u];return t.apply(void 0,[n].concat(o)),r.apply(n,o)}:(n[C][e]=!0,n[e]=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];t.apply(void 0,[n].concat(r))})}function a(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments[3];if(null!=e){if(_(e))return e.map(function(e){return a(n,e,t,l)});var m=e[v];if(null==m)return e;var C=void 0,b=e[g];if(c(e))return e;var O=N(e,r({},g,!0),function(e){return a(n,e,t,l)}),P=!0;if(m===E){if(!f(b)){return a(n,b(O),t,l)}b.defaultProps&&(O=d.d.assign({},b.defaultProps,O)),C=new b(O,t),C._updater=l,i(C,"componentWillUnmount",o),i(C,"componentDidMount",u),C.context=C.context||t,P=!1}else C=new b(O,t);if(p.a.registerComponent(C),!c(C))throw new Error("<"+b.name+"> is not a medivh Component");P&&n&&p.a.registerParentComponent(n[s],C[s]);var A=t;if(C.getChildContext&&h(C.getChildContext)){var I=C.getChildContext()||{};A=d.d.assign({},t,I)}if(C&&C.render)C.props[y]=a(C,C.render(),A,l);else{var T=C.props.children;T&&(C.props.children=a(C,T,A,l))}return C}}function c(n){return n&&n.$$component_flag}function f(n){return!(!n.prototype||!n.prototype.$$component_flag)}function l(n,e){var t;if(_(n))return n.map(function(n){return l(n,e)});if(h(n)){var o,u=p.a.registerFun(e,null,n);return o={},r(o,m,u),r(o,s,e),o}if(!c(n))return n;var i=n.props,a=n[s],f=void 0,d=i[v],g={};p.a.removeFun(a),i&&Object.keys(i).forEach(function(n){var t=i[n];if("children"===n)return void(f=t);if(!A[n])if(h(t)){var o,u=p.a.registerFun(a,null,t);g[n]=(o={},r(o,m,u),r(o,s,a),o)}else g[n]=l(i[n],e)}),g.hasOwnProperty(y)&&(g=r({},y,g[y]),f=null);var O=P(d)?d:E,N=(t={},r(t,b,O),r(t,"props",g),r(t,"componentId",a),t);return n[C]&&(N.lifeCycle=n[C]),f&&(N.children=l(f,a)),N}e.a=a,e.b=c,e.c=l;var d=t(0),p=t(2),s=d.a.COMPONENT_ID,v=d.a.TYPE,y=d.a.STATE,m=d.a.ID,E=d.a.VCOMPONENT,C=d.a.LIEF_CYCLE,g=d.a.CONSTRUCTOR,b=d.a.COMPONENT_TYPE,O=d.a.REF,_=d.d.isArray,h=d.d.isFunc,P=d.d.isString,N=d.d.clonePropsByFilter,A=r({store:!0},O,!0)},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(n){function t(e,t){n.postMessage({type:e,data:t})}function r(e){n.addMessage?n.addMessage(e):n.onmessage=function(n){var t=n.data;e(t)}}e.invoke=t,e.init=r}.call(e,t(8))},function(n,e,t){"use strict";function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n){return"[object Array]"===Object.prototype.toString.call(n)}function u(n){return null!=n&&"object"===(void 0===n?"undefined":E(n))}function i(n){return"string"==typeof n}function a(n){return"function"==typeof n}function c(n){return"symbol"===(void 0===n?"undefined":E(n))}function f(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var o=0;o<t.length;o++){var u=t[o];if(u)for(var i in u)n[i]=u[i]}return n}function l(n){return null==n?[]:o(n)?[].concat(n):[n]}function d(n){return n&&n.hasOwnProperty("clientX")&&n.hasOwnProperty("clientY")}function p(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments[2],r={};for(var o in n)e[o]||(t&&!C[o]?r[o]=t(n[o],o):r[o]=n[o]);return r}function s(n){return n.replace(/^\S/,function(n){return n.toUpperCase()})}function v(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e<0||c(n)?null:o(n)?n.map(function(n){return v(n,e-1)}):u(n)?Object.keys(n).reduce(function(t,r){return t[r]=n[r]?v(n[r],e-1):n[r],t},{}):a(n)?null:n}Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=o,e.isObject=u,e.isString=i,e.isFunc=a,e.isSymbol=c,e.assign=f,e.toArray=l,e.isEvent=d,e.clonePropsByFilter=p,e.toHump=s,e.cloneArgs=v;var y,m=t(1),E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},C=(y={children:!0},r(y,m.STATE,!0),r(y,m.TYPE,!0),r(y,"key",!0),y)},function(n,e,t){"use strict";function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e,t){t&&P.push(t);var r=void 0;if(r=v(e)?s({},n.state,e(n.state)):s({},n.state,e),_||h)return void(n.state=r);if(_=!0,!n.shouldComponentUpdate||n.shouldComponentUpdate(n.props,r)){n.state=r;var o=n.render();n.props[C]=a(n,n.props[C],o,i(n,n.context));var u=n[g],c=Object(f.c)(n.props[C],u);O(b,{data:c,componentId:u})}_=!1,P.forEach(function(n){n()}),P.splice(0,P.length-1)}function u(n,e){if(e&&N.push(e),!h){h=!0;var t=n.render();n.props[C]=a(n,n.props[C],t,i(n,n.context),!0);var r=n[g],o=Object(f.c)(n.props[C],r);O(b,{data:o,componentId:r}),h=!1,N.forEach(function(n){n()}),N.splice(0,N.length-1)}}function i(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n&&n.getChildContext&&v(n.getChildContext)){var t=n.getChildContext()||{};return c.d.assign({},e,t)}return e}function a(n,e,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments[4],c=d(e),s=d(t),v=y(t),g=s.map(function(e,t){if(c.length>0)for(var d=0;d<c.length;d++){var s=function(l){var d=c[l];if(d&&e&&d[m]&&d[m]===e[m]&&(d.props.key===e.key||l===t)){if(Object(f.b)(e))return{v:e};if(d.render){var s=p(e,r({},E,!0),function(e,t){return a(n,d.props[t],e,o,u)});if(d.componentWillReceiveProps&&d.componentWillReceiveProps(s,o),d.context=o,u||!d.shouldComponentUpdate||d.shouldComponentUpdate(s,d.state)){var v=d.props[C];d.props=s;var y=d.render();d.props[C]=a(d,v,y,i(d,d.context),u)}}else{var g=d.props.children;d.props=p(e,r({},E,!0),function(e,t){return a(n,d.props[t],e,o,u)}),d.props.children=a(d,g,e.children,o,u)}return c.splice(l,1),{v:d}}}(d);if("object"===(void 0===s?"undefined":l(s)))return s.v}return Object(f.a)(n,e,o,A)});return v?g:g[0]}var c=t(0),f=t(3),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},d=c.d.toArray,p=c.d.clonePropsByFilter,s=c.d.assign,v=c.d.isFunc,y=c.d.isArray,m=c.a.TYPE,E=c.a.CONSTRUCTOR,C=c.a.STATE,g=c.a.COMPONENT_ID,b=c.a.COMPONENT_RENDER,O=(c.a.HIDDEN_CONTEXT,c.c.invoke),_=!1,h=!1,P=[],N=[],A={setState:o,forceUpdate:u};e.a=A},function(n,e,t){"use strict";function r(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}Object.defineProperty(e,"__esModule",{value:!0}),t.d(e,"render",function(){return v});var o=t(0),u=t(2),i=t(10),a=t(11),c=o.b.devHook,f=o.a.FUN_CALLBACK,l=o.a.LIEF_CYCLE_CALLBACK,d=o.a.INVOKE_CALLBACK,p=o.a.SEND_RENDER_PARAM,s=o.c.init,v=a.a;c(),s(function(n){var e=n.type;if(f===e){var t=n.data,o=t.id,c=t.componentId,s=t.params,v=u.a.getFun(c,o);v&&v.method.apply(v.context,s)}else if(l===e){var y=n.data,m=y.id,E=y.cycleName,C=y.params,g=u.a.getComponent(m);g&&g[E].apply(g,r(C))}else d===e?Object(i.d)(n.data):p===e&&Object(a.b)(n.data)}),e.default={invokeCallback:i.a,invokePromise:i.b,invokePromisePreserved:i.c}},function(n,e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(t=window)}n.exports=t},function(n,e,t){"use strict";function r(){}function o(n,e){}Object.defineProperty(e,"__esModule",{value:!0}),e.devHook=r,e.devHandle=o;t(1),t(4),t(5),function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}}()},function(n,e,t){"use strict";function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){return function(t){for(var o=arguments.length,u=Array(o>1?o-1:0),i=1;i<o;i++)u[i-1]=arguments[i];return new Promise(function(o,i){var p=l.a.registerFun(null,null,o,null,e),s=l.a.registerFun(null,null,i,null,e);l.a.pushRelativeIdByFunId(p,s),l.a.pushRelativeIdByFunId(s,p);var v=r({},d,p),y=r({},d,s),m=Object(c.a)(null,u,null,f.a);a.c.invoke(a.a.INVOKE,{method:n,api:t,params:Object(c.c)(m),success:v,error:y})})}}function u(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return a.c.invoke(a.a.INVOKE,{method:"invokeContextCallback",api:n,params:Object(c.c)(Object(c.a)(null,t,null,f.a))})}function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.params,t=n.id;if(t){var r=l.a.getPureFun(t);if(r){var o=r.value,u=r.relativeIds;r.keeped||(u&&u.forEach(function(n){l.a.deletePureFun(n)}),l.a.deletePureFun(t)),o&&o.apply(null,e)}}}e.a=u,t.d(e,"b",function(){return p}),t.d(e,"c",function(){return s}),e.d=i;var a=t(0),c=t(3),f=t(6),l=t(2),d=a.a.ID,p=o("invokeContextPromise"),s=o("invokeContextPromise",!0)},function(n,e,t){"use strict";function r(n,e){var t=Object(a.a)(null,n,{},c.a),r=Object(a.c)(t);f(l,{data:r,options:e})}function o(n){if(s){y=n;var e=s(y,y[p]);s=null,r(e,v)}m=!0}function u(n,e){i.d.isFunc(n)?(s=n,v=e,m?o(y):f(d)):r(n,e)}e.b=o,e.a=u;var i=t(0),a=t(3),c=t(6),f=i.c.invoke,l=i.a.GLOBAL_RENDER,d=i.a.GET_RENDER_PARAM,p=i.a.LOCATION,s=void 0,v=void 0,y=void 0,m=!1}])});
//# sourceMappingURL=medivh-runtime.min.js.map