{"version":3,"sources":["webpack:///webpack/bootstrap 56d95182bd42506a73f5","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-common/src/constant/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-common/src/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-common/src/rpc/index.js","webpack:///(webpack)/buildin/global.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-common/src/util/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh/src/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-common/src/dev/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh/src/component.js"],"names":["GLOBAL_RENDER","COMPONENT_RENDER","LOCATION","ID","VCOMPONENT","STATE","TYPE","COMPONENT_TYPE","COMPONENT_ID","PARENT_COMPONENT_ID","REF","LIEF_CYCLE","FUN_CALLBACK","LIEF_CYCLE_CALLBACK","STOP_PROPAGATION","PREVENT_DEFAULT","EVENT_LIST","IDENTITY","REMOVE_COMPONENTIDS","CONSTRUCTOR","INVOKE","INVOKE_CALLBACK","INVOKE_CALLBACK_ID","DOM_CREATE","DOM_APPENDCHILD","DOM_INSERTBEFORE","GET_RENDER_PARAM","SEND_RENDER_PARAM","REMOVE_ELE","ADD_ELE","CHANGGE_ELE","Rpc","Constant","Dev","Util","invoke","type","data","global","postMessage","init","cb","addMessage","onmessage","isArray","obj","Object","prototype","toString","call","isObject","isString","isFunc","isSymbol","assign","args","i","length","newObj","toArray","concat","isEvent","hasOwnProperty","INVALID_ATTR_NAME_MAP","children","clonePropsByFilter","filterMap","attr","toHump","str","replace","val","toUpperCase","cloneArgs","dep","map","item","keys","reduce","ret","name","Component","Children","count","createElement","props","nProps","value","devHook","genId","PREFIX","Element","tag","isQuery","nodeType","attrs","create","child","childJS","firstChild","lastChild","nextSibling","toJS","key","ele","beforeLastChild","push","target","index","targetEl","beforeSibling","splice","opr","Text","content","window","document","querySelector","createTextNode","devHandle","worker","getElement","domMap","get","parse","eleChild","attrsKeys","forEach","setAttribute","ch","appendChild","set","insertBefore","vopr","vele","vtarget","Map","LIFE_CYCLE_LIST","extractLifeCycle","context","$$component_flag","setState","inState","callback","_updater","state","forceUpdate"],"mappings":"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","file":"medivh.jsonp.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 56d95182bd42506a73f5","\n\n\nexport const GLOBAL_RENDER = 'global_render';\nexport const COMPONENT_RENDER = 'component_render';\n\nexport const LOCATION = '$$location';\nexport const ID = '$$com_fun_id';\nexport const VCOMPONENT = '$$VCompoennt';\nexport const STATE = '$$state';\nexport const TYPE = '$$type';\nexport const COMPONENT_TYPE = '$$ctp';\nexport const COMPONENT_ID = '$$componentId';\nexport const PARENT_COMPONENT_ID = '$$parentComponentId';\n// export const HIDDEN_CONTEXT = '$$context';\nexport const REF = '$$ref';\nexport const LIEF_CYCLE = '$$lifecycle';\n\nexport const FUN_CALLBACK = 'function_callback';\nexport const LIEF_CYCLE_CALLBACK = 'lifecycle_callback';\n\n\nexport const STOP_PROPAGATION = 'StopPropagation';\nexport const PREVENT_DEFAULT = 'PreventDefault';\nexport const EVENT_LIST = '$$event_list';\nexport const IDENTITY = '$$identity';\n\n\n// export const COMPONENT_DESTROY = '$$componentDestroy';\nexport const REMOVE_COMPONENTIDS = 'removeComponentIdList';\nexport const CONSTRUCTOR = '$$construct';\nexport const INVOKE = '$$invoke';\nexport const INVOKE_CALLBACK = '$$invoke_callback';\nexport const INVOKE_CALLBACK_ID = '$$fun_id$$';\n\n\nexport const DOM_CREATE = 'domCreate';\nexport const DOM_APPENDCHILD = 'domAppendChild';\nexport const DOM_INSERTBEFORE = 'domInsertBefore';\n\n\n// export const TRIGGLE_WORKER_RENDER = '$$worker_start_rende';\nexport const GET_RENDER_PARAM = '$$get_render_param';\nexport const SEND_RENDER_PARAM = '$$send_render_param';\n\nexport const REMOVE_ELE = 1;\nexport const ADD_ELE = 2;\nexport const CHANGGE_ELE = 3;\n\n// export const VLIST = 'vlist';\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-common/src/constant/index.js","\n\n\nimport * as rpc from './rpc';\nimport * as constant from './constant';\nimport * as dev from './dev/index'; \nimport * as util from './util/index';\n\n\nexport const Rpc = rpc;\nexport const Constant = constant;\nexport const Dev = dev;\nexport const Util = util;\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-common/src/index.js","\n\n\nexport function invoke(type, data) {\n  global.postMessage({\n    type,\n    data\n  });\n}\n\nexport function init(cb) {\n  if (global.addMessage) {\n    global.addMessage(cb);\n  } else {\n    global.onmessage = function({ data }) {\n      cb(data);\n    };\n    // global.addEventListener('message', function({data}) {\n    //   cb(data);\n    // });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-common/src/rpc/index.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 3\n// module chunks = 0","import {STATE, TYPE} from '../constant';\nexport function isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nexport function isObject(obj) {\n  return obj != null && typeof obj === 'object';\n}\n\nexport function isString(obj) {\n  return typeof obj === 'string';\n}\n\nexport function isFunc(obj) {\n  return typeof obj === 'function';\n}\n\nexport function isSymbol(obj) {\n  return typeof obj === 'symbol';\n}\n\nexport function assign(obj, ...args) {\n  for (let i = 0; i < args.length; i++) {\n    const newObj = args[i];\n    if (newObj) {\n      for (let i in newObj) obj[i] = newObj[i];\n    }\n  }\n  return obj;\n}\n\nexport function toArray(obj) {\n  if (obj == null) return [];\n  return isArray(obj) ? [].concat(obj) : [obj];\n}\n\nexport function isEvent(obj) {\n  return obj && obj.hasOwnProperty('clientX') && obj.hasOwnProperty('clientY');\n}\n\nconst INVALID_ATTR_NAME_MAP = {\n  children: true,\n  [STATE]: true,\n  [TYPE]: true,\n  key: true\n  // props: true\n};\n\nexport function clonePropsByFilter(obj, filterMap = {}, cb) {\n  const newObj = {};\n  for (let attr in obj) {\n    if (filterMap[attr]) continue;\n    if (cb && !INVALID_ATTR_NAME_MAP[attr]) {\n      newObj[attr] = cb(obj[attr], attr);\n    } else {\n      newObj[attr] = obj[attr];\n    }\n  };\n  return newObj;\n}\n\n// export function cloneEvent(obj,filterMap={}){\n//     const newObj = {};\n//     for (let attr in obj){\n//         if(filterMap[attr] || attr.charAt(0) === '_') continue;\n//         newObj[attr] = obj[attr];\n//     };\n//     return newObj;\n// }\n\nexport function toHump(str) {\n  return str.replace(/^\\S/, (val) => {\n    return val.toUpperCase();\n  });\n}\n\nexport function cloneArgs(args, dep = 3) {\n  if (dep < 0 || isSymbol(args)) return null;\n  if (isArray(args)) {\n    return args.map((item) => {\n      return cloneArgs(item, dep - 1);\n    });\n  } else if (isObject(args)) {\n    return Object.keys(args).reduce((ret, name) => {\n      ret[name] = args[name] ? cloneArgs(args[name], dep - 1) : args[name];\n      return ret;\n    }, {});\n  } else if (isFunc(args)) {\n    return null;\n  }\n  return args;\n}\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-common/src/util/index.js","\n\nimport {Constant, Util} from 'medivh-common';\nimport RenderComponent from './component';\nconst {VCOMPONENT, TYPE, CONSTRUCTOR, REF} = Constant;\n\n\n\n\n\nexport const Component = RenderComponent;\nexport default {\n  Component: RenderComponent,\n  Children: {\n    count(data) {\n      if (data == null) return 0;\n      return data.length || 0;\n    }\n  },\n  createElement(type, props, ...children) {\n    const nProps = {};\n    for (let attr in props) {\n      const value = props[attr];\n      if (attr === 'ref') {\n        nProps[REF] = value;\n      } else {\n        nProps[attr] = value;\n      }\n    }\n    nProps.children = nProps.children || children;\n    if (Util.isFunc(type)) {\n      nProps[CONSTRUCTOR] = type;\n      nProps[TYPE] = VCOMPONENT;\n    } else {\n      nProps[CONSTRUCTOR] = RenderComponent;\n      nProps[TYPE] = type;\n    }\n    return nProps;\n  }\n};\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh/src/index.js","import {DOM_CREATE, DOM_APPENDCHILD, ID, DOM_INSERTBEFORE} from '../constant';\nimport {invoke} from '../rpc/index';\nimport {isArray} from '../util/index';\n\nexport function devHook() {\n  if (process.env.NODE_ENV === 'development') {\n    const PREFIX = 'webworkerstyle';\n    let count = 0;\n    function genId() {\n      return `${PREFIX}-${++count}`;\n    }\n    class Element {\n      constructor(tag, isQuery) {\n        this.tag = tag;\n        this.nodeType = 1;\n        this[ID] = genId();\n        this.isQuery = isQuery;\n        this.attrs = Object.create(null);\n        this.child = [];\n        this.childJS = [];\n        this.firstChild = null;\n        this.lastChild = null;\n        this.nextSibling = null;\n        if (!isQuery) {\n          invoke(DOM_CREATE, this.toJS());\n        }\n      }\n      setAttribute(key, value) {\n        this.attrs[key] = value;\n      }\n      appendChild(item) {\n        const ele = item.toJS();\n        const {tag, nodeType, isQuery, attrs} = this;\n        const beforeLastChild = this.child[this.child.length - 1];\n        if (beforeLastChild) {\n          beforeLastChild.nextSibling = item;\n        }\n        this.child.push(item);\n        this.childJS.push(ele);\n        this.firstChild = this.child[0];\n        this.lastChild = this.child[this.child.length - 1];\n        invoke(DOM_APPENDCHILD, {\n          tag,\n          nodeType,\n          isQuery,\n          attrs,\n          [ID]: this[ID],\n          child: [ele]\n        });\n      }\n      insertBefore(item, target) {\n        let index = -1, targetEl;\n        const ele = item.toJS();\n        for (let i = 0; i < this.child.length; i++) {\n          targetEl = this.child[i];\n          if (targetEl[ID] === target[ID]) {\n            index = i;\n            break;\n          }\n        }\n        if (index === -1) {\n          return\n;\n        }\n        const beforeSibling = this.child[index - 1];\n        beforeSibling && (beforeSibling.nextSibling = item);\n        item.nextSibling = target;\n        this.child.splice(index, 0, item);\n        this.childJS.splice(index, 0, ele);\n        this.firstChild = this.child[0];\n        this.lastChild = this.child[this.child.length - 1];\n        invoke(DOM_INSERTBEFORE, {\n          opr: this.toJS(),\n          ele,\n          target: target.toJS()\n        });\n      }\n      toJS() {\n        const {tag, nodeType, isQuery, attrs, childJS} = this;\n        return {\n          tag,\n          nodeType,\n          isQuery,\n          attrs,\n          child: childJS,\n          [ID]: this[ID]\n        };\n      }\n        }\n    class Text {\n      constructor(content) {\n        this.nodeType = 3;\n        this.content = content;\n        this[ID] = genId();\n        invoke(DOM_CREATE, this.toJS());\n      }\n      toJS() {\n        const {nodeType, content} = this;\n        return {\n          nodeType,\n          content,\n          [ID]: this[ID]\n        };\n      }\n        }\n    global.window = {};\n    global.document = {\n      createElement: function(tag) {\n        return new Element(tag);\n      },\n      querySelector(target) {\n        return new Element(target, true);\n      },\n      createTextNode: function(content) {\n        return new Text(content);\n      }\n    };\n  }\n}\n\nexport function devHandle(data, worker) {\n  if (process.env.NODE_ENV === 'development') {\n    let domMap = worker.domMap;\n    if (domMap == null) {\n      domMap = worker.domMap = new Map();\n    }\n    const type = data.type;\n    function getElement(data) {\n      if (data.isQuery) {\n        return document.querySelector(data.tag);\n      }\n      return domMap.get(data[ID]);\n    }\n    function parse(data) {\n      if (data == null) return data;\n      if (isArray(data)) {\n        return data.map((item) => {\n          return parse(item);\n        });\n      }\n      const {tag, nodeType, isQuery, attrs, child, content} = data;\n      let eleChild = parse(child);\n      let ele = getElement(data);\n      const attrsKeys = attrs ? Object.keys(attrs) : null;\n      (attrsKeys) && attrsKeys.forEach((name) => {\n        ele.setAttribute(name, attrs[name]);\n      });\n      (eleChild && ele) && eleChild.forEach((ch) => {\n        ele.appendChild(ch);\n      });\n      return ele;\n    }\n    function createElement(data) {\n      const {tag, nodeType, content} = data;\n      let ele;\n      if (nodeType === 1) {\n        ele = document.createElement(tag);\n      } else {\n        ele = document.createTextNode(content);\n      }\n      domMap.set(data[ID], ele);\n    }\n    function insertBefore(vopr, vele, vtarget) {\n      let opr = getElement(vopr);\n      let ele = getElement(vele);\n      let target = getElement(vtarget);\n      opr.insertBefore(ele, target);\n    }\n    if (type === DOM_CREATE) {\n      createElement(data.data);\n    } else if (type === DOM_APPENDCHILD) {\n      parse(data.data);\n    } else if (type === DOM_INSERTBEFORE) {\n      const {opr, ele, target} = data.data;\n      insertBefore(opr, ele, target);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-common/src/dev/index.js","import {Constant, Util} from 'medivh-common';\nconst {TYPE, LIEF_CYCLE} = Constant;\nconst {isFunc} = Util;\n\nconst LIFE_CYCLE_LIST = [\n  'componentWillMount',\n  'componentDidMount',\n  'componentWillUpdate',\n  'componentDidUpdate',\n  'componentWillUnmount'\n];\n\nfunction extractLifeCycle(obj) {\n  return LIFE_CYCLE_LIST.reduce((ret, name) => {\n    if (obj[name]) {\n      ret[name] = true;\n    }\n    return ret;\n  }, {});\n}\n\n\n// function deleteByComponentId(obj){\n//     FunMap.deleteByComponentId(obj[COMPONENT_ID]);\n// }\n\n\n\nfunction Component(props, context) {\n  this.context = context;\n  this[TYPE] = props[TYPE];\n  this.props = props || {};\n  this[LIEF_CYCLE] = extractLifeCycle(this);\n}\nComponent.prototype.$$component_flag = true;\nComponent.prototype.setState = function(inState, callback) {\n  if (!this._updater) { \n    this.state = Util.assign({}, this.state, isFunc(inState) ? inState(this.state) : inState);\n    return;\n  }\n  this._updater.setState(this, inState, callback);\n};\nComponent.prototype.forceUpdate = function(callback) {\n  this._updater && this._updater.forceUpdate(this, callback);\n};\n\n\n\n\nexport default Component;\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh/src/component.js"],"sourceRoot":""}