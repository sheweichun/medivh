{"version":3,"sources":["webpack:///medivh-render.jsonp.min.js","webpack:///webpack/bootstrap 605ecb60b17a9dbb2ed7","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-common/src/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-common/src/constant/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-common/src/rpc/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-common/src/util/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/util.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/index.js","webpack:///(webpack)/buildin/global.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-common/src/dev/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/load_worker.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/parse.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/vcomponent.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/invoke.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/component_map.js"],"names":["MedivhRender","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","Constant","Dev","Util","__WEBPACK_IMPORTED_MODULE_1__constant__","__WEBPACK_IMPORTED_MODULE_2__dev_index__","__WEBPACK_IMPORTED_MODULE_3__util_index__","value","GLOBAL_RENDER","COMPONENT_RENDER","LOCATION","ID","VCOMPONENT","STATE","TYPE","COMPONENT_TYPE","COMPONENT_ID","PARENT_COMPONENT_ID","REF","LIEF_CYCLE","FUN_CALLBACK","LIEF_CYCLE_CALLBACK","STOP_PROPAGATION","PREVENT_DEFAULT","EVENT_LIST","IDENTITY","REMOVE_COMPONENTIDS","CONSTRUCTOR","INVOKE","INVOKE_CALLBACK","INVOKE_CALLBACK_ID","DOM_CREATE","DOM_APPENDCHILD","DOM_INSERTBEFORE","GET_RENDER_PARAM","SEND_RENDER_PARAM","REMOVE_ELE","ADD_ELE","CHANGGE_ELE","global","invoke","type","data","postMessage","init","cb","addMessage","onmessage","_ref","_defineProperty","obj","key","writable","isArray","toString","isObject","_typeof","isString","isFunc","isSymbol","assign","_len","arguments","length","args","Array","_key","newObj","toArray","concat","isEvent","clonePropsByFilter","filterMap","undefined","attr","INVALID_ATTR_NAME_MAP","toHump","str","replace","val","toUpperCase","cloneArgs","dep","map","item","keys","reduce","ret","_INVALID_ATTR_NAME_MA","__WEBPACK_IMPORTED_MODULE_0__constant__","Symbol","iterator","constructor","children","worker","genOnMessage","__WEBPACK_IMPORTED_MODULE_0__render_index__","genPostLifeCycleMessage","componentId","cycleName","__WEBPACK_IMPORTED_MODULE_5__util__","id","params","generateFunProxy","attrName","funId","targetProps","newArgs","arg","preventDefaultFlag","stopPropagationFlag","preventDefault","stopPropagation","metaKey","altKey","ctrlKey","shiftKey","button","sendArgs","__WEBPACK_IMPORTED_MODULE_0_medivh_common__","__WEBPACK_IMPORTED_MODULE_1__load_worker__","__WEBPACK_IMPORTED_MODULE_2__parse__","__WEBPACK_IMPORTED_MODULE_3__invoke__","__WEBPACK_IMPORTED_MODULE_4__component_map__","devHandle","option","workers","vdom","vdomRender","uiFrameworks","context","preWorkerList","workerList","initFlag","uiFrameworkList","invokeContext","instance","addWorker","preWorkerItem","_this2","this","then","workerItem","initWorker","push","getWorkerList","registerContext","namespace","ctx","registerFrameWorker","newUIFramework","initWorkerList","_this3","forEach","err","console","error","removeWorker","workItem","splice","_this","el","bundleJs","cssEls","cssUrls","query","hash","destroy","clear","unmountComponentAtNode","innerHTML","terminate","reload","componentMap","parser","React","ReactDOM","UIFrameworks","FunProxy","postLifeCycleMessage","renderData","render","_data$data","stateData","target","setState","_data$data2","api","method","success","location","host","hostname","href","origin","pathname","port","protocol","e","g","Function","eval","window","devHook","defineProperties","props","descriptor","createWorker","content","url","blob","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","append","getBlob","Blob","Worker","URL","createObjectURL","encodeURIComponent","loadCss","cssUrl","link","document","createElement","rel","docHead","getElementsByTagName","appendChild","loadCssList","cssUrlList","cssURL","removeCssEls","removeChild","cache","Promise","resolve","reject","urlResp","JS_CACHE","oReq","XMLHttpRequest","addEventListener","responseText","open","send","getList","urls","splitChar","all","resps","join","create","workerId","preEl","jsUrls","_item$jsCodes","jsCodes","_item$splitChar","getElementById","jsUrlList","Error","loadedWorker","_toConsumableArray","arr","arr2","from","extractUIComponent","frameworks","cacheComponent","typeMap","typeList","split","set","_FILTER_ATTR_MAP","__WEBPACK_IMPORTED_MODULE_1__vcomponent__","FILTER_ATTR_MAP","Map","parse","index","lifeCycle","RenderComponent","newProps","bind","VComponent","humpComponent","renderChildren","apply","_classCallCheck","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","registerLifeCycle","component","cycleMap","replaceComponentId","nextProps","newId","oldId","_createClass","protoProps","staticProps","_React$Component","getPrototypeOf","register","state","unregister","Component","genProxyFunction","__WEBPACK_IMPORTED_MODULE_1__util__","getContextAndTarget","deserialize","fun_flag_id","Invoker","invokeContextCallback","invokeContextPromise","result","message","Cache","delete"],"mappings":"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","file":"medivh-render.jsonp.min.js","sourcesContent":["MedivhRender(/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"../\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export Rpc */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Constant; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return Dev; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return Util; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__rpc__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constant__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dev_index__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_index__ = __webpack_require__(3);\n\n\n\n\n\n\n\nvar Rpc = __WEBPACK_IMPORTED_MODULE_0__rpc__;\nvar Constant = __WEBPACK_IMPORTED_MODULE_1__constant__;\nvar Dev = __WEBPACK_IMPORTED_MODULE_2__dev_index__;\nvar Util = __WEBPACK_IMPORTED_MODULE_3__util_index__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GLOBAL_RENDER\", function() { return GLOBAL_RENDER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"COMPONENT_RENDER\", function() { return COMPONENT_RENDER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LOCATION\", function() { return LOCATION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ID\", function() { return ID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VCOMPONENT\", function() { return VCOMPONENT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"STATE\", function() { return STATE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TYPE\", function() { return TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"COMPONENT_TYPE\", function() { return COMPONENT_TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"COMPONENT_ID\", function() { return COMPONENT_ID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PARENT_COMPONENT_ID\", function() { return PARENT_COMPONENT_ID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"REF\", function() { return REF; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LIEF_CYCLE\", function() { return LIEF_CYCLE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FUN_CALLBACK\", function() { return FUN_CALLBACK; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LIEF_CYCLE_CALLBACK\", function() { return LIEF_CYCLE_CALLBACK; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"STOP_PROPAGATION\", function() { return STOP_PROPAGATION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PREVENT_DEFAULT\", function() { return PREVENT_DEFAULT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVENT_LIST\", function() { return EVENT_LIST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IDENTITY\", function() { return IDENTITY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"REMOVE_COMPONENTIDS\", function() { return REMOVE_COMPONENTIDS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CONSTRUCTOR\", function() { return CONSTRUCTOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"INVOKE\", function() { return INVOKE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"INVOKE_CALLBACK\", function() { return INVOKE_CALLBACK; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"INVOKE_CALLBACK_ID\", function() { return INVOKE_CALLBACK_ID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOM_CREATE\", function() { return DOM_CREATE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOM_APPENDCHILD\", function() { return DOM_APPENDCHILD; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOM_INSERTBEFORE\", function() { return DOM_INSERTBEFORE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GET_RENDER_PARAM\", function() { return GET_RENDER_PARAM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SEND_RENDER_PARAM\", function() { return SEND_RENDER_PARAM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"REMOVE_ELE\", function() { return REMOVE_ELE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ADD_ELE\", function() { return ADD_ELE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CHANGGE_ELE\", function() { return CHANGGE_ELE; });\n\n\nvar GLOBAL_RENDER = 'global_render';\nvar COMPONENT_RENDER = 'component_render';\n\nvar LOCATION = '$$location';\nvar ID = '$$com_fun_id';\nvar VCOMPONENT = '$$VCompoennt';\nvar STATE = '$$state';\nvar TYPE = '$$type';\nvar COMPONENT_TYPE = '$$ctp';\nvar COMPONENT_ID = '$$componentId';\nvar PARENT_COMPONENT_ID = '$$parentComponentId';\n// export const HIDDEN_CONTEXT = '$$context';\nvar REF = '$$ref';\nvar LIEF_CYCLE = '$$lifecycle';\n\nvar FUN_CALLBACK = 'function_callback';\nvar LIEF_CYCLE_CALLBACK = 'lifecycle_callback';\n\nvar STOP_PROPAGATION = 'StopPropagation';\nvar PREVENT_DEFAULT = 'PreventDefault';\nvar EVENT_LIST = '$$event_list';\nvar IDENTITY = '$$identity';\n\n// export const COMPONENT_DESTROY = '$$componentDestroy';\nvar REMOVE_COMPONENTIDS = 'removeComponentIdList';\nvar CONSTRUCTOR = '$$construct';\nvar INVOKE = '$$invoke';\nvar INVOKE_CALLBACK = '$$invoke_callback';\nvar INVOKE_CALLBACK_ID = '$$fun_id$$';\n\nvar DOM_CREATE = 'domCreate';\nvar DOM_APPENDCHILD = 'domAppendChild';\nvar DOM_INSERTBEFORE = 'domInsertBefore';\n\n// export const TRIGGLE_WORKER_RENDER = '$$worker_start_rende';\nvar GET_RENDER_PARAM = '$$get_render_param';\nvar SEND_RENDER_PARAM = '$$send_render_param';\n\nvar REMOVE_ELE = 1;\nvar ADD_ELE = 2;\nvar CHANGGE_ELE = 3;\n\n// export const VLIST = 'vlist';\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (immutable) */ __webpack_exports__[\"invoke\"] = invoke;\n/* harmony export (immutable) */ __webpack_exports__[\"init\"] = init;\n\n\nfunction invoke(type, data) {\n  global.postMessage({\n    type: type,\n    data: data\n  });\n}\n\nfunction init(cb) {\n  if (global.addMessage) {\n    global.addMessage(cb);\n  } else {\n    global.onmessage = function (_ref) {\n      var data = _ref.data;\n\n      cb(data);\n    };\n    // global.addEventListener('message', function({data}) {\n    //   cb(data);\n    // });\n  }\n}\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(7)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"isArray\"] = isArray;\n/* harmony export (immutable) */ __webpack_exports__[\"isObject\"] = isObject;\n/* harmony export (immutable) */ __webpack_exports__[\"isString\"] = isString;\n/* harmony export (immutable) */ __webpack_exports__[\"isFunc\"] = isFunc;\n/* harmony export (immutable) */ __webpack_exports__[\"isSymbol\"] = isSymbol;\n/* harmony export (immutable) */ __webpack_exports__[\"assign\"] = assign;\n/* harmony export (immutable) */ __webpack_exports__[\"toArray\"] = toArray;\n/* harmony export (immutable) */ __webpack_exports__[\"isEvent\"] = isEvent;\n/* harmony export (immutable) */ __webpack_exports__[\"clonePropsByFilter\"] = clonePropsByFilter;\n/* harmony export (immutable) */ __webpack_exports__[\"toHump\"] = toHump;\n/* harmony export (immutable) */ __webpack_exports__[\"cloneArgs\"] = cloneArgs;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constant__ = __webpack_require__(1);\nvar _INVALID_ATTR_NAME_MA;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nfunction isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nfunction isObject(obj) {\n  return obj != null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n}\n\nfunction isString(obj) {\n  return typeof obj === 'string';\n}\n\nfunction isFunc(obj) {\n  return typeof obj === 'function';\n}\n\nfunction isSymbol(obj) {\n  return (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'symbol';\n}\n\nfunction assign(obj) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < args.length; i++) {\n    var newObj = args[i];\n    if (newObj) {\n      for (var _i in newObj) {\n        obj[_i] = newObj[_i];\n      }\n    }\n  }\n  return obj;\n}\n\nfunction toArray(obj) {\n  if (obj == null) return [];\n  return isArray(obj) ? [].concat(obj) : [obj];\n}\n\nfunction isEvent(obj) {\n  return obj && obj.hasOwnProperty('clientX') && obj.hasOwnProperty('clientY');\n}\n\nvar INVALID_ATTR_NAME_MAP = (_INVALID_ATTR_NAME_MA = {\n  children: true\n}, _defineProperty(_INVALID_ATTR_NAME_MA, __WEBPACK_IMPORTED_MODULE_0__constant__[\"STATE\"], true), _defineProperty(_INVALID_ATTR_NAME_MA, __WEBPACK_IMPORTED_MODULE_0__constant__[\"TYPE\"], true), _defineProperty(_INVALID_ATTR_NAME_MA, 'key', true), _INVALID_ATTR_NAME_MA);\n\nfunction clonePropsByFilter(obj) {\n  var filterMap = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var cb = arguments[2];\n\n  var newObj = {};\n  for (var attr in obj) {\n    if (filterMap[attr]) continue;\n    if (cb && !INVALID_ATTR_NAME_MAP[attr]) {\n      newObj[attr] = cb(obj[attr], attr);\n    } else {\n      newObj[attr] = obj[attr];\n    }\n  };\n  return newObj;\n}\n\n// export function cloneEvent(obj,filterMap={}){\n//     const newObj = {};\n//     for (let attr in obj){\n//         if(filterMap[attr] || attr.charAt(0) === '_') continue;\n//         newObj[attr] = obj[attr];\n//     };\n//     return newObj;\n// }\n\nfunction toHump(str) {\n  return str.replace(/^\\S/, function (val) {\n    return val.toUpperCase();\n  });\n}\n\nfunction cloneArgs(args) {\n  var dep = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n\n  if (dep < 0 || isSymbol(args)) return null;\n  if (isArray(args)) {\n    return args.map(function (item) {\n      return cloneArgs(item, dep - 1);\n    });\n  } else if (isObject(args)) {\n    return Object.keys(args).reduce(function (ret, name) {\n      ret[name] = args[name] ? cloneArgs(args[name], dep - 1) : args[name];\n      return ret;\n    }, {});\n  } else if (isFunc(args)) {\n    return null;\n  }\n  return args;\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = postMessage;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = genOnMessage;\n\n\nfunction postMessage(worker, data) {\n  worker.postMessage(data);\n}\n\nfunction genOnMessage(cb) {\n  return function (_ref) {\n    var data = _ref.data;\n\n    cb(data);\n  };\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__render_index__ = __webpack_require__(6);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return __WEBPACK_IMPORTED_MODULE_0__render_index__[\"a\"]; });\n\n\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_medivh_common__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__load_worker__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__parse__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__invoke__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__component_map__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__util__ = __webpack_require__(4);\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// import React,{Component} from 'react';\n// import ReactDOM from 'react-dom';\n\n\n\n\n\n\nvar cloneArgs = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].cloneArgs,\n    isEvent = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].isEvent,\n    isArray = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].isArray,\n    isString = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].isString,\n    assign = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].assign;\nvar devHandle = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"b\" /* Dev */].devHandle;\nvar GLOBAL_RENDER = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].GLOBAL_RENDER,\n    COMPONENT_RENDER = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].COMPONENT_RENDER,\n    INVOKE = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].INVOKE,\n    FUN_CALLBACK = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].FUN_CALLBACK,\n    GET_RENDER_PARAM = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].GET_RENDER_PARAM,\n    SEND_RENDER_PARAM = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].SEND_RENDER_PARAM,\n    LIEF_CYCLE_CALLBACK = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].LIEF_CYCLE_CALLBACK,\n    STOP_PROPAGATION = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].STOP_PROPAGATION,\n    PREVENT_DEFAULT = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].PREVENT_DEFAULT,\n    LOCATION = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].LOCATION;\n\n\nfunction genPostLifeCycleMessage(worker) {\n  return function (componentId, cycleName, args) {\n    Object(__WEBPACK_IMPORTED_MODULE_5__util__[\"b\" /* postMessage */])(worker, {\n      type: LIEF_CYCLE_CALLBACK,\n      data: {\n        id: componentId,\n        cycleName: cycleName,\n        params: []\n      }\n    });\n  };\n}\nfunction generateFunProxy(worker) {\n  return function (attrName, componentId, funId, targetProps) {\n    for (var _len = arguments.length, args = Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n      args[_key - 4] = arguments[_key];\n    }\n\n    var newArgs = args.map(function (arg) {\n      if (isEvent(arg)) {\n        var preventDefaultFlag = targetProps['' + attrName + PREVENT_DEFAULT];\n        var stopPropagationFlag = targetProps['' + attrName + STOP_PROPAGATION];\n        if (preventDefaultFlag) {\n          arg.preventDefault && arg.preventDefault();\n        }\n        if (stopPropagationFlag) {\n          arg.stopPropagation && arg.stopPropagation();\n        }\n        return {\n          metaKey: arg.metaKey,\n          altKey: arg.altKey,\n          ctrlKey: arg.ctrlKey,\n          shiftKey: arg.shiftKey,\n          button: arg.button\n        };\n      }\n      return arg;\n    });\n    var sendArgs = cloneArgs(newArgs);\n    Object(__WEBPACK_IMPORTED_MODULE_5__util__[\"b\" /* postMessage */])(worker, {\n      type: FUN_CALLBACK,\n      data: {\n        id: funId,\n        componentId: componentId,\n        params: sendArgs\n      }\n    });\n  };\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (option) {\n  var workers = option.workers,\n      vdom = option.vdom,\n      vdomRender = option.vdomRender,\n      uiFrameworks = option.uiFrameworks,\n      context = option.context;\n\n  var preWorkerList = isArray(workers) ? workers : [workers];\n  var workerList = [];\n  var initFlag = false;\n  var uiFrameworkList = isArray(uiFrameworks) ? uiFrameworks : [uiFrameworks];\n  var invokeContext = context || {};\n  var instance = {\n    addWorker: function addWorker(preWorkerItem) {\n      var _this2 = this;\n\n      return Object(__WEBPACK_IMPORTED_MODULE_1__load_worker__[\"a\" /* default */])(preWorkerItem).then(function (workerItem) {\n        var ret = _this2.initWorker(workerItem);\n        workerList.push(ret);\n        return ret;\n      });\n    },\n    getWorkerList: function getWorkerList() {\n      return workerList;\n    },\n    registerContext: function registerContext(namespace, ctx) {\n      invokeContext[namespace] = ctx;\n    },\n    registerFrameWorker: function registerFrameWorker(newUIFramework) {\n      uiFrameworkList.push(newUIFramework);\n    },\n    initWorkerList: function initWorkerList() {\n      var _this3 = this;\n\n      if (initFlag) return;\n      initFlag = true;\n      preWorkerList.forEach(function (preWorkerItem) {\n        Object(__WEBPACK_IMPORTED_MODULE_1__load_worker__[\"a\" /* default */])(preWorkerItem).then(function (workerItem) {\n          workerList.push(_this3.initWorker(workerItem));\n        }, function (err) {\n          console.error(err);\n        });\n      });\n    },\n    removeWorker: function removeWorker(workItem) {\n      for (var i = 0; i < workerList.length; i++) {\n        if (workerList[i] === workItem) {\n          workerList.splice(i, 1);\n          return;\n        }\n      }\n    },\n    initWorker: function initWorker(workerItem) {\n      var _this = this;\n      try {\n        var worker = workerItem.worker,\n            el = workerItem.el,\n            bundleJs = workerItem.bundleJs,\n            cssEls = workerItem.cssEls,\n            cssUrls = workerItem.cssUrls,\n            query = workerItem.query,\n            hash = workerItem.hash;\n\n        workerItem.destroy = function (clear) {\n          if (clear) {\n            if (vdomRender && vdomRender.unmountComponentAtNode) {\n              vdomRender.unmountComponentAtNode(el);\n              el.innerHTML = '';\n            }\n            Object(__WEBPACK_IMPORTED_MODULE_1__load_worker__[\"b\" /* removeCssEls */])(cssEls);\n          }\n          worker.terminate();\n          _this.removeWorker(this);\n        };\n        workerItem.reload = function () {\n          this.destroy();\n          if (bundleJs) {\n            _this.addWorker({\n              el: el,\n              worker: bundleJs,\n              cssUrls: cssUrls\n            });\n          }\n        };\n        workerItem.componentMap = Object(__WEBPACK_IMPORTED_MODULE_4__component_map__[\"a\" /* default */])(workerItem);\n        var parser = Object(__WEBPACK_IMPORTED_MODULE_2__parse__[\"a\" /* default */])({\n          React: vdom,\n          ReactDOM: vdomRender,\n          componentMap: workerItem.componentMap,\n          UIFrameworks: uiFrameworkList,\n          FunProxy: generateFunProxy(worker),\n          postLifeCycleMessage: genPostLifeCycleMessage(worker)\n        });\n        worker.onmessage = Object(__WEBPACK_IMPORTED_MODULE_5__util__[\"a\" /* genOnMessage */])(function (data) {\n          var type = data.type;\n\n          if (type === GLOBAL_RENDER) {\n            var renderData = data.data.data;\n\n            vdomRender.render(parser(renderData), el);\n          } else if (type === COMPONENT_RENDER) {\n            var _data$data = data.data,\n                stateData = _data$data.data,\n                componentId = _data$data.componentId;\n\n            var target = workerItem.componentMap.get(componentId);\n            if (!target) return;\n            target.setState({\n              data: parser(stateData)\n            });\n          } else if (type === INVOKE) {\n            var _data$data2 = data.data,\n                api = _data$data2.api,\n                params = _data$data2.params,\n                method = _data$data2.method,\n                success = _data$data2.success,\n                error = _data$data2.error;\n\n            if (__WEBPACK_IMPORTED_MODULE_3__invoke__[\"a\" /* default */][method]) {\n              // console.log('api :', api, params);\n              __WEBPACK_IMPORTED_MODULE_3__invoke__[\"a\" /* default */][method](invokeContext, api, Object(__WEBPACK_IMPORTED_MODULE_3__invoke__[\"b\" /* deserialize */])(params, worker, parser), Object(__WEBPACK_IMPORTED_MODULE_3__invoke__[\"b\" /* deserialize */])(success, worker, parser), Object(__WEBPACK_IMPORTED_MODULE_3__invoke__[\"b\" /* deserialize */])(error, worker, parser));\n            }\n          } else if (type === GET_RENDER_PARAM) {\n            Object(__WEBPACK_IMPORTED_MODULE_5__util__[\"b\" /* postMessage */])(worker, {\n              type: SEND_RENDER_PARAM,\n              data: assign({}, query, _defineProperty({}, LOCATION, {\n                hash: hash || location.hash,\n                host: location.host,\n                hostname: location.hostname,\n                href: location.href,\n                origin: location.origin,\n                pathname: location.pathname,\n                port: location.port,\n                protocol: location.protocol\n              }))\n            });\n          }\n          devHandle(data, worker);\n        });\n        return workerItem;\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  };\n  instance.initWorkerList();\n  return instance;\n});\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"devHook\"] = devHook;\n/* harmony export (immutable) */ __webpack_exports__[\"devHandle\"] = devHandle;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constant__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__rpc_index__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_index__ = __webpack_require__(3);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\nfunction devHook() {\n  if (false) {\n    var genId = function genId() {\n      return PREFIX + '-' + ++count;\n    };\n\n    var PREFIX = 'webworkerstyle';\n    var count = 0;\n\n    var Element = function () {\n      function Element(tag, isQuery) {\n        _classCallCheck(this, Element);\n\n        this.tag = tag;\n        this.nodeType = 1;\n        this[ID] = genId();\n        this.isQuery = isQuery;\n        this.attrs = Object.create(null);\n        this.child = [];\n        this.childJS = [];\n        this.firstChild = null;\n        this.lastChild = null;\n        this.nextSibling = null;\n        if (!isQuery) {\n          invoke(DOM_CREATE, this.toJS());\n        }\n      }\n\n      _createClass(Element, [{\n        key: 'setAttribute',\n        value: function setAttribute(key, value) {\n          this.attrs[key] = value;\n        }\n      }, {\n        key: 'appendChild',\n        value: function appendChild(item) {\n          var _invoke;\n\n          var ele = item.toJS();\n          var tag = this.tag,\n              nodeType = this.nodeType,\n              isQuery = this.isQuery,\n              attrs = this.attrs;\n\n          var beforeLastChild = this.child[this.child.length - 1];\n          if (beforeLastChild) {\n            beforeLastChild.nextSibling = item;\n          }\n          this.child.push(item);\n          this.childJS.push(ele);\n          this.firstChild = this.child[0];\n          this.lastChild = this.child[this.child.length - 1];\n          invoke(DOM_APPENDCHILD, (_invoke = {\n            tag: tag,\n            nodeType: nodeType,\n            isQuery: isQuery,\n            attrs: attrs\n          }, _defineProperty(_invoke, ID, this[ID]), _defineProperty(_invoke, 'child', [ele]), _invoke));\n        }\n      }, {\n        key: 'insertBefore',\n        value: function insertBefore(item, target) {\n          var index = -1,\n              targetEl = void 0;\n          var ele = item.toJS();\n          for (var i = 0; i < this.child.length; i++) {\n            targetEl = this.child[i];\n            if (targetEl[ID] === target[ID]) {\n              index = i;\n              break;\n            }\n          }\n          if (index === -1) {\n            return;\n          }\n          var beforeSibling = this.child[index - 1];\n          beforeSibling && (beforeSibling.nextSibling = item);\n          item.nextSibling = target;\n          this.child.splice(index, 0, item);\n          this.childJS.splice(index, 0, ele);\n          this.firstChild = this.child[0];\n          this.lastChild = this.child[this.child.length - 1];\n          invoke(DOM_INSERTBEFORE, {\n            opr: this.toJS(),\n            ele: ele,\n            target: target.toJS()\n          });\n        }\n      }, {\n        key: 'toJS',\n        value: function toJS() {\n          var tag = this.tag,\n              nodeType = this.nodeType,\n              isQuery = this.isQuery,\n              attrs = this.attrs,\n              childJS = this.childJS;\n\n          return _defineProperty({\n            tag: tag,\n            nodeType: nodeType,\n            isQuery: isQuery,\n            attrs: attrs,\n            child: childJS\n          }, ID, this[ID]);\n        }\n      }]);\n\n      return Element;\n    }();\n\n    var Text = function () {\n      function Text(content) {\n        _classCallCheck(this, Text);\n\n        this.nodeType = 3;\n        this.content = content;\n        this[ID] = genId();\n        invoke(DOM_CREATE, this.toJS());\n      }\n\n      _createClass(Text, [{\n        key: 'toJS',\n        value: function toJS() {\n          var nodeType = this.nodeType,\n              content = this.content;\n\n          return _defineProperty({\n            nodeType: nodeType,\n            content: content\n          }, ID, this[ID]);\n        }\n      }]);\n\n      return Text;\n    }();\n\n    global.window = {};\n    global.document = {\n      createElement: function createElement(tag) {\n        return new Element(tag);\n      },\n      querySelector: function querySelector(target) {\n        return new Element(target, true);\n      },\n\n      createTextNode: function createTextNode(content) {\n        return new Text(content);\n      }\n    };\n  }\n}\n\nfunction devHandle(data, worker) {\n  if (false) {\n    var getElement = function getElement(data) {\n      if (data.isQuery) {\n        return document.querySelector(data.tag);\n      }\n      return domMap.get(data[ID]);\n    };\n\n    var parse = function parse(data) {\n      if (data == null) return data;\n      if (isArray(data)) {\n        return data.map(function (item) {\n          return parse(item);\n        });\n      }\n      var tag = data.tag,\n          nodeType = data.nodeType,\n          isQuery = data.isQuery,\n          attrs = data.attrs,\n          child = data.child,\n          content = data.content;\n\n      var eleChild = parse(child);\n      var ele = getElement(data);\n      var attrsKeys = attrs ? Object.keys(attrs) : null;\n      attrsKeys && attrsKeys.forEach(function (name) {\n        ele.setAttribute(name, attrs[name]);\n      });\n      eleChild && ele && eleChild.forEach(function (ch) {\n        ele.appendChild(ch);\n      });\n      return ele;\n    };\n\n    var createElement = function createElement(data) {\n      var tag = data.tag,\n          nodeType = data.nodeType,\n          content = data.content;\n\n      var ele = void 0;\n      if (nodeType === 1) {\n        ele = document.createElement(tag);\n      } else {\n        ele = document.createTextNode(content);\n      }\n      domMap.set(data[ID], ele);\n    };\n\n    var insertBefore = function insertBefore(vopr, vele, vtarget) {\n      var opr = getElement(vopr);\n      var ele = getElement(vele);\n      var target = getElement(vtarget);\n      opr.insertBefore(ele, target);\n    };\n\n    var domMap = worker.domMap;\n    if (domMap == null) {\n      domMap = worker.domMap = new Map();\n    }\n    var type = data.type;\n\n    if (type === DOM_CREATE) {\n      createElement(data.data);\n    } else if (type === DOM_APPENDCHILD) {\n      parse(data.data);\n    } else if (type === DOM_INSERTBEFORE) {\n      var _data$data = data.data,\n          opr = _data$data.opr,\n          ele = _data$data.ele,\n          target = _data$data.target;\n\n      insertBefore(opr, ele, target);\n    }\n  }\n}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = removeCssEls;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_medivh_common__ = __webpack_require__(0);\n\n\n\nvar isString = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].isString,\n    isArray = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].isArray,\n    isObject = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].isObject,\n    assign = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].assign;\n\nvar JS_CACHE = Object.create(null);\nvar workerId = 1;\n\n// function generateQuery(param = {}) {\n//   const paramStr = JSON.stringify(param);\n//   return `?query=${paramStr}&hash=${location.hash}`;\n// }\n\n// function appendQuery(url, param = {luodan: 444}) {\n//   if (param == null || url == null) return url;\n//   const hashIndex = url.indexOf('#');\n//   let hashStr = location.hash;\n//   if (hashIndex >= 0) {\n//     url = url.substring(0, hashIndex);\n//   }\n//   const askIndex = url.indexOf('?');\n//   const paramStr = JSON.stringify(param);\n//   const queryStr = encodeURIComponent(`query=${paramStr}&hash=${hashStr}`);\n//   if (askIndex >= 0) {\n//     if (url.charAt(url.length - 1) === '&') {\n//       return `${url}${queryStr}`;\n//     }\n//     return `${url}${queryStr ? '&' + queryStr : queryStr}`;\n//   }\n//   return `${url}${queryStr ? '?' + queryStr : queryStr}`;\n// }\n\nfunction createWorker(content, url) {\n  // content = `\n  // console.log('location11123')\n  // (function(global,$$search){\n  //   // console.log('location1112 :',location,global,$$search)\n  //   ${content}\n  // }({\n\n  // }),\"${generateQuery(query)}\")`;\n  try {\n    try {\n      var blob;\n\n      try {\n        // BlobBuilder = Deprecated, but widely implemented\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n        blob = new BlobBuilder();\n        blob.append(content);\n\n        blob = blob.getBlob();\n      } catch (e) {\n        // The proposed API\n        blob = new Blob([content]);\n      }\n      return new Worker(URL.createObjectURL(blob));\n    } catch (e) {\n      return new Worker('data:application/javascript,' + encodeURIComponent(content));\n    }\n  } catch (e) {\n    if (url) {\n      // throw Error('Inline worker is not supported');\n      return new Worker(url);\n    }\n\n    // return new Worker(url);\n  }\n}\n\nvar docHead = void 0;\nfunction loadCss(cssUrl) {\n  var link = document.createElement('link');\n  link.type = 'text/css';\n  link.rel = 'stylesheet';\n  link.href = cssUrl;\n  if (!docHead) {\n    docHead = document.getElementsByTagName('head')[0];\n  }\n  docHead.appendChild(link);\n  return link;\n}\n\nfunction loadCssList(cssUrlList) {\n  return cssUrlList.map(function (cssURL) {\n    return loadCss(cssURL);\n  });\n}\n\nfunction removeCssEls(cssEls) {\n  if (cssEls == null) return;\n  return cssEls.forEach(function (el) {\n    docHead.removeChild(el);\n  });\n}\n\nfunction toArray(obj) {\n  if (obj == null) return [];\n  if (isArray(obj)) {\n    return obj;\n  }\n  return [obj];\n}\n\nfunction get(url, cache) {\n  return new Promise(function (resolve, reject) {\n    var urlResp = JS_CACHE[url];\n    if (cache && urlResp) {\n      return resolve(urlResp);\n    }\n    var oReq = new XMLHttpRequest();\n    oReq.addEventListener('load', function () {\n      if (cache) {\n        JS_CACHE[url] = this.responseText;\n      }\n      return resolve(this.responseText);\n    }, false);\n    oReq.addEventListener('abort', reject, false);\n    oReq.addEventListener('error', reject, false);\n    oReq.open('get', url, true);\n    oReq.send();\n  });\n}\n\nfunction getList() {\n  var urls = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var splitChar = arguments[1];\n\n  return Promise.all(urls.map(function (url) {\n    if (isObject(url)) {\n      return get(url.url, url.cache);\n    }\n    return get(url);\n  })).then(function (resps) {\n    return resps.join(splitChar);\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (item) {\n  var worker = item.worker,\n      preEl = item.el,\n      cssUrls = item.cssUrls,\n      jsUrls = item.jsUrls,\n      _item$jsCodes = item.jsCodes,\n      jsCodes = _item$jsCodes === undefined ? '' : _item$jsCodes,\n      _item$splitChar = item.splitChar,\n      splitChar = _item$splitChar === undefined ? '\\n' : _item$splitChar;\n\n  var el = isString(preEl) ? document.getElementById(preEl) : preEl;\n  var cssUrlList = toArray(cssUrls);\n  var jsUrlList = toArray(jsUrls);\n  return new Promise(function (resolve, reject) {\n    if (worker == null) return reject(new Error('worker不能为空'));\n    if (worker instanceof Worker) {\n      worker.id = workerId++;\n      return resolve(assign({}, item, {\n        bundleJs: '',\n        worker: worker,\n        el: el,\n        cssEls: loadCssList(cssUrlList)\n      }));\n    }\n    getList([].concat(jsUrlList, worker), splitChar).then(function (responseText) {\n      var loadedWorker = createWorker(jsCodes + responseText, null);\n      loadedWorker.id = workerId++;\n      return resolve(assign({}, item, {\n        bundleJs: worker,\n        worker: loadedWorker,\n        el: el,\n        cssEls: loadCssList(cssUrlList)\n      }));\n    }, reject);\n  });\n});;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_medivh_common__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__vcomponent__ = __webpack_require__(11);\nvar _FILTER_ATTR_MAP;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar isArray = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].isArray,\n    isObject = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].isObject,\n    toHump = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].toHump;\nvar VCOMPONENT = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].VCOMPONENT,\n    STATE = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].STATE,\n    ID = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].ID,\n    COMPONENT_ID = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].COMPONENT_ID,\n    LIEF_CYCLE = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].LIEF_CYCLE,\n    COMPONENT_TYPE = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].COMPONENT_TYPE,\n    TYPE = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].TYPE;\n\n\nvar FILTER_ATTR_MAP = (_FILTER_ATTR_MAP = {}, _defineProperty(_FILTER_ATTR_MAP, STATE, true), _defineProperty(_FILTER_ATTR_MAP, TYPE, true), _FILTER_ATTR_MAP);\n\nvar typeMap = new Map();\n\nfunction extractUIComponent(frameworks, type) {\n  var cacheComponent = typeMap.get(type);\n  if (cacheComponent) {\n    return cacheComponent;\n  }\n  var typeList = type.split('-');\n  var target = void 0;\n  for (var i = 0; i < frameworks.length; i++) {\n    target = frameworks[i];\n    for (var _i = 0; _i < typeList.length; _i++) {\n      var item = toHump(typeList[_i]);\n      // console.log('item :',item);\n      target = target[item];\n      if (target == null) break;\n    }\n    if (target) {\n      break;\n    }\n  }\n  // console.log('target :',target,type);\n  typeMap.set(type, target);\n  return target;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (_ref) {\n  var React = _ref.React,\n      ReactDOM = _ref.ReactDOM,\n      UIFrameworks = _ref.UIFrameworks,\n      FunProxy = _ref.FunProxy,\n      postLifeCycleMessage = _ref.postLifeCycleMessage,\n      componentMap = _ref.componentMap;\n\n  var VComponent = Object(__WEBPACK_IMPORTED_MODULE_1__vcomponent__[\"a\" /* default */])({ React: React, ReactDOM: ReactDOM, postLifeCycleMessage: postLifeCycleMessage, componentMap: componentMap });\n  function parse(data, index) {\n    if (data == null) return;\n    if (isArray(data)) {\n      return data.map(function (item, index) {\n        return parse(item, index);\n      });\n    } else if (!isObject(data) || !data[COMPONENT_TYPE]) {\n      return data;\n    }\n    var componentId = data.componentId,\n        props = data.props,\n        children = data.children,\n        lifeCycle = data.lifeCycle;\n\n    var type = data[COMPONENT_TYPE];\n    var RenderComponent = type;\n    var newProps = {};\n    if (props) {\n      for (var name in props) {\n        var item = props[name];\n        if (item && item[ID]) {\n          newProps[name] = FunProxy.bind(null, name, componentId, item[ID], props);\n        } else if (!FILTER_ATTR_MAP[name]) {\n          newProps[name] = parse(props[name]);\n        }\n      }\n      if (props[STATE]) {\n        newProps[STATE] = parse(props[STATE]);\n      }\n    }\n    if (VCOMPONENT === type) {\n      RenderComponent = VComponent;\n      newProps[COMPONENT_ID] = componentId;\n      newProps[LIEF_CYCLE] = lifeCycle;\n    } else if (UIFrameworks) {\n      var humpComponent = extractUIComponent(UIFrameworks, type);\n      humpComponent && (RenderComponent = humpComponent);\n    }\n    // if (index != null && newProps.key == null) {\n    //   newProps.key = componentId;\n    // }\n    // if (componentId) {\n    //   newProps.key = componentId;\n    // }\n    if (componentId) {\n      newProps.key = props && props.key != null ? props.key : componentId;\n    }\n    // if (newProps.$$construct) {\n    //   console.log('newProps :', newProps);\n    // }\n    // props[COMPONENT_ID] = componentId;\n    // props[LIEF_CYCLE] = lifeCycle;\n    var renderChildren = children ? parse(children) : [];\n    var retComponent = React.createElement.apply(React, [RenderComponent, newProps].concat(_toConsumableArray(renderChildren)));\n    return retComponent;\n  }\n  return parse;\n});\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_medivh_common__ = __webpack_require__(0);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\nvar COMPONENT_ID = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].COMPONENT_ID,\n    LIEF_CYCLE = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].LIEF_CYCLE,\n    STATE = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].STATE;\n// import ComponentMap from './component_map';\n\n\nfunction registerLifeCycle(component, postLifeCycleMessage) {\n  var cycleMap = component.props[LIEF_CYCLE];\n  Object.keys(cycleMap).forEach(function (name) {\n    var method = component[name];\n    component[name] = function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      method && method.apply(component, args);\n      postLifeCycleMessage(component[COMPONENT_ID], name, args);\n    };\n  });\n}\n\n// function proxyComponentWillUnmount(obj){\n//     if(obj.componentWillUnmount){\n//         const method = obj.componentWillUnmount;\n//         obj.componentWillUnmount = function(...args){\n//             ComponentMap.unregister(obj)\n//             return method.apply(obj,args)\n//         }\n//     }else{\n//         obj.componentWillUnmount = function(){\n//             ComponentMap.unregister(obj);\n//         }\n//     }\n// }\n\nfunction replaceComponentId(obj, nextProps, componentMap) {\n  var newId = nextProps[COMPONENT_ID];\n  if (newId) {\n    var oldId = obj[COMPONENT_ID];\n    obj[COMPONENT_ID] = newId;\n    componentMap.replace(oldId, obj);\n  }\n}\n\n// function proxyComponentWillReceiveProps(obj){\n//     if(obj.componentWillReceiveProps){\n//         const method = obj.componentWillReceiveProps;\n//         obj.componentWillReceiveProps = function(nextProps){\n//             replaceComponentId(obj,nextProps);\n//             return method.apply(obj,nextProps)\n//         }\n//     }else{\n//         obj.componentWillReceiveProps = function(nextProps){\n//             console.log('nextProps :',nextProps);\n//             replaceComponentId(obj,nextProps);\n//         }\n//     }\n// }\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (_ref) {\n  var React = _ref.React,\n      ReactDOM = _ref.ReactDOM,\n      postLifeCycleMessage = _ref.postLifeCycleMessage,\n      componentMap = _ref.componentMap;\n\n  return function (_React$Component) {\n    _inherits(VComponent, _React$Component);\n\n    function VComponent(props) {\n      _classCallCheck(this, VComponent);\n\n      var _this = _possibleConstructorReturn(this, (VComponent.__proto__ || Object.getPrototypeOf(VComponent)).call(this, props));\n\n      if (props[COMPONENT_ID]) {\n        _this[COMPONENT_ID] = props[COMPONENT_ID];\n        componentMap.register(_this);\n      }\n      _this[COMPONENT_ID] = props[COMPONENT_ID];\n      registerLifeCycle(_this, postLifeCycleMessage);\n      // proxyComponentWillUnmount(this);\n      // const {$$state} = props;\n      _this.state = {\n        data: props[STATE]\n      };\n      return _this;\n    }\n\n    _createClass(VComponent, [{\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        // console.log(this.props[COMPONENT_ID]);\n        componentMap.unregister(this);\n      }\n      // componentDidMount(){\n      //     console.log('did mount',this.props);\n      // }\n      // componentDidUpdate(){\n      //     console.log('did update');\n      // }\n\n    }, {\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps(nextProps) {\n        this.state.data = nextProps[STATE];\n        replaceComponentId(this, nextProps, componentMap);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var data = this.state.data;\n\n        return data == null ? '' : data;\n      }\n    }]);\n\n    return VComponent;\n  }(React.Component);\n});\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = deserialize;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_medivh_common__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(4);\n\n\n\nvar INVOKE_CALLBACK = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].INVOKE_CALLBACK,\n    ID = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].ID,\n    INVOKE_CALLBACK_ID = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].INVOKE_CALLBACK_ID;\nvar isArray = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].isArray,\n    isObject = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"c\" /* Util */].isObject;\n\n\nfunction genProxyFunction(funId, worker) {\n  var ret = function ret() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return Object(__WEBPACK_IMPORTED_MODULE_1__util__[\"b\" /* postMessage */])(worker, {\n      type: INVOKE_CALLBACK,\n      data: {\n        params: args,\n        id: funId\n      }\n    });\n  };\n  ret[ID] = funId;\n  return ret;\n}\nfunction getContextAndTarget(context, api) {\n  if (!api) return {};\n  var apiList = api.split('.');\n  var ret = apiList.reduce(function (ret, name) {\n    ret.context = ret.target;\n    if (ret.target) {\n      ret.target = ret.target[name];\n    }\n    return ret;\n  }, { context: null, target: context });\n  return ret;\n}\n\nfunction deserialize(data, worker, parser) {\n  if (data == null) return;\n  if (isArray(data)) {\n    return data.map(function (item) {\n      return deserialize(parser(item), worker, parser);\n    });\n  }\n  data = parser(data);\n  if (isObject(data)) {\n    // 此处为兼容性代码，应用只需要去data[ID]，INVOKE_CALLBACK_ID是为了兼容老的\n    var fun_flag_id = data[ID] || data[INVOKE_CALLBACK_ID];\n    if (fun_flag_id) {\n      // 组件里的函数标识\n      return genProxyFunction(fun_flag_id, worker);\n    } else {\n      var ret = {};\n      for (var attr in data) {\n        ret[attr] = deserialize(parser(data[attr]), worker, parser);\n      }\n    }\n  }\n  return data;\n}\n\nvar Invoker = {\n  invokeContextCallback: function invokeContextCallback(context, api, params) {\n    var ret = getContextAndTarget(context, api);\n    if (ret.context && ret.target) {\n      ret.target.apply(ret.context, params);\n    }\n  },\n  invokeContextPromise: function invokeContextPromise(context, api, params, success, error) {\n    var ret = getContextAndTarget(context, api);\n    if (ret.context && ret.target) {\n      try {\n        var result = ret.target.apply(ret.context, params);\n        if (result && result.then) {\n          result.then(success, error);\n          return;\n        } else {\n          success && success(result);\n          return;\n        }\n      } catch (e) {\n        error && error(e.message);\n        return;\n      }\n    } else {\n      error && error('\\u6B64API\\u3010' + api + '\\u3011\\u4E0D\\u5B58\\u5728');\n    }\n  }\n  //   invokeContextSync(context, api, params, success, error) {\n  //     const ret = getContextAndTarget(context, api);\n  //     if (ret.context && ret.target) {\n  //       try {\n  //         const result = ret.target.apply(ret.context, params);\n  //         success && success(result);\n  //       } catch (e) {\n  //         error && error(e.message);\n  //       }\n  //     }\n  //   }\n\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Invoker);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_medivh_common__ = __webpack_require__(0);\n\n\n\nvar COMPONENT_ID = __WEBPACK_IMPORTED_MODULE_0_medivh_common__[\"a\" /* Constant */].COMPONENT_ID;\n\n// const Cache = new Map();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (worker) {\n  var Cache = new Map();\n  return {\n    register: function register(component) {\n      Cache.set(component[COMPONENT_ID], component);\n    },\n    replace: function replace(oldId, component) {\n      Cache.delete(oldId);\n      Cache.set(component[COMPONENT_ID], component);\n    },\n    unregister: function unregister(component) {\n      Cache.delete(component[COMPONENT_ID]);\n    },\n    get: function get(id) {\n      return Cache.get(id);\n    }\n    // show(){\n    //     Cache.forEach(function(value, key, mapObj) {\n    //         console.log(value + '---' + key + '---' + mapObj);\n    //     });\n    // }\n\n  };\n});\n\n/***/ })\n/******/ ]));;\n\n\n// WEBPACK FOOTER //\n// medivh-render.jsonp.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 605ecb60b17a9dbb2ed7","\n\n\nimport * as rpc from './rpc';\nimport * as constant from './constant';\nimport * as dev from './dev/index'; \nimport * as util from './util/index';\n\n\nexport const Rpc = rpc;\nexport const Constant = constant;\nexport const Dev = dev;\nexport const Util = util;\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-common/src/index.js","\n\n\nexport const GLOBAL_RENDER = 'global_render';\nexport const COMPONENT_RENDER = 'component_render';\n\nexport const LOCATION = '$$location';\nexport const ID = '$$com_fun_id';\nexport const VCOMPONENT = '$$VCompoennt';\nexport const STATE = '$$state';\nexport const TYPE = '$$type';\nexport const COMPONENT_TYPE = '$$ctp';\nexport const COMPONENT_ID = '$$componentId';\nexport const PARENT_COMPONENT_ID = '$$parentComponentId';\n// export const HIDDEN_CONTEXT = '$$context';\nexport const REF = '$$ref';\nexport const LIEF_CYCLE = '$$lifecycle';\n\nexport const FUN_CALLBACK = 'function_callback';\nexport const LIEF_CYCLE_CALLBACK = 'lifecycle_callback';\n\n\nexport const STOP_PROPAGATION = 'StopPropagation';\nexport const PREVENT_DEFAULT = 'PreventDefault';\nexport const EVENT_LIST = '$$event_list';\nexport const IDENTITY = '$$identity';\n\n\n// export const COMPONENT_DESTROY = '$$componentDestroy';\nexport const REMOVE_COMPONENTIDS = 'removeComponentIdList';\nexport const CONSTRUCTOR = '$$construct';\nexport const INVOKE = '$$invoke';\nexport const INVOKE_CALLBACK = '$$invoke_callback';\nexport const INVOKE_CALLBACK_ID = '$$fun_id$$';\n\n\nexport const DOM_CREATE = 'domCreate';\nexport const DOM_APPENDCHILD = 'domAppendChild';\nexport const DOM_INSERTBEFORE = 'domInsertBefore';\n\n\n// export const TRIGGLE_WORKER_RENDER = '$$worker_start_rende';\nexport const GET_RENDER_PARAM = '$$get_render_param';\nexport const SEND_RENDER_PARAM = '$$send_render_param';\n\nexport const REMOVE_ELE = 1;\nexport const ADD_ELE = 2;\nexport const CHANGGE_ELE = 3;\n\n// export const VLIST = 'vlist';\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-common/src/constant/index.js","\n\n\nexport function invoke(type, data) {\n  global.postMessage({\n    type,\n    data\n  });\n}\n\nexport function init(cb) {\n  if (global.addMessage) {\n    global.addMessage(cb);\n  } else {\n    global.onmessage = function({ data }) {\n      cb(data);\n    };\n    // global.addEventListener('message', function({data}) {\n    //   cb(data);\n    // });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-common/src/rpc/index.js","import {STATE, TYPE} from '../constant';\nexport function isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nexport function isObject(obj) {\n  return obj != null && typeof obj === 'object';\n}\n\nexport function isString(obj) {\n  return typeof obj === 'string';\n}\n\nexport function isFunc(obj) {\n  return typeof obj === 'function';\n}\n\nexport function isSymbol(obj) {\n  return typeof obj === 'symbol';\n}\n\nexport function assign(obj, ...args) {\n  for (let i = 0; i < args.length; i++) {\n    const newObj = args[i];\n    if (newObj) {\n      for (let i in newObj) obj[i] = newObj[i];\n    }\n  }\n  return obj;\n}\n\nexport function toArray(obj) {\n  if (obj == null) return [];\n  return isArray(obj) ? [].concat(obj) : [obj];\n}\n\nexport function isEvent(obj) {\n  return obj && obj.hasOwnProperty('clientX') && obj.hasOwnProperty('clientY');\n}\n\nconst INVALID_ATTR_NAME_MAP = {\n  children: true,\n  [STATE]: true,\n  [TYPE]: true,\n  key: true\n  // props: true\n};\n\nexport function clonePropsByFilter(obj, filterMap = {}, cb) {\n  const newObj = {};\n  for (let attr in obj) {\n    if (filterMap[attr]) continue;\n    if (cb && !INVALID_ATTR_NAME_MAP[attr]) {\n      newObj[attr] = cb(obj[attr], attr);\n    } else {\n      newObj[attr] = obj[attr];\n    }\n  };\n  return newObj;\n}\n\n// export function cloneEvent(obj,filterMap={}){\n//     const newObj = {};\n//     for (let attr in obj){\n//         if(filterMap[attr] || attr.charAt(0) === '_') continue;\n//         newObj[attr] = obj[attr];\n//     };\n//     return newObj;\n// }\n\nexport function toHump(str) {\n  return str.replace(/^\\S/, (val) => {\n    return val.toUpperCase();\n  });\n}\n\nexport function cloneArgs(args, dep = 3) {\n  if (dep < 0 || isSymbol(args)) return null;\n  if (isArray(args)) {\n    return args.map((item) => {\n      return cloneArgs(item, dep - 1);\n    });\n  } else if (isObject(args)) {\n    return Object.keys(args).reduce((ret, name) => {\n      ret[name] = args[name] ? cloneArgs(args[name], dep - 1) : args[name];\n      return ret;\n    }, {});\n  } else if (isFunc(args)) {\n    return null;\n  }\n  return args;\n}\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-common/src/util/index.js","\n\n\nexport function postMessage(worker, data) {\n  worker.postMessage(data);\n}\n\nexport function genOnMessage(cb) {\n  return function({data}) {\n    cb(data);\n  };\n}\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/util.js","// import React,{Component} from 'react';\n// import ReactDOM from 'react-dom';\nimport {Constant, Dev, Util} from 'medivh-common';\nimport loadWorker, {removeCssEls} from './load_worker';\nimport createParse from './parse';\nimport Invoker, {deserialize} from './invoke';\nimport genComponentMap from './component_map';\nimport {postMessage, genOnMessage} from './util';\nconst {cloneArgs, isEvent, isArray, isString, assign} = Util;\nconst {devHandle} = Dev;\nconst {GLOBAL_RENDER, COMPONENT_RENDER, INVOKE, FUN_CALLBACK, GET_RENDER_PARAM, SEND_RENDER_PARAM,\n    LIEF_CYCLE_CALLBACK, STOP_PROPAGATION, PREVENT_DEFAULT, LOCATION} = Constant;\n\nfunction genPostLifeCycleMessage(worker) {\n  return function(componentId, cycleName, args) {\n    postMessage(worker, {\n      type: LIEF_CYCLE_CALLBACK,\n      data: {\n        id: componentId,\n        cycleName,\n        params: []\n      }\n    });\n  };\n}\nfunction generateFunProxy(worker) {\n  return function(attrName, componentId, funId, targetProps, ...args) {\n    const newArgs = args.map((arg) => {\n      if (isEvent(arg)) {\n        const preventDefaultFlag = targetProps[`${attrName}${PREVENT_DEFAULT}`];\n        const stopPropagationFlag = targetProps[`${attrName}${STOP_PROPAGATION}`];\n        if (preventDefaultFlag) {\n          arg.preventDefault && arg.preventDefault();\n        }\n        if (stopPropagationFlag) {\n          arg.stopPropagation && arg.stopPropagation();\n        }\n        return {\n          metaKey: arg.metaKey,\n          altKey: arg.altKey,\n          ctrlKey: arg.ctrlKey,\n          shiftKey: arg.shiftKey,\n          button: arg.button\n        };\n      }\n      return arg;\n    });\n    const sendArgs = cloneArgs(newArgs);\n    postMessage(worker, {\n      type: FUN_CALLBACK,\n      data: {\n        id: funId,\n        componentId,\n        params: sendArgs\n      }\n    });\n  };\n}\n\n\n\n\n\n\n\n\n\nexport default function(option) {\n  const {workers, vdom, vdomRender, uiFrameworks, context} = option;\n  const preWorkerList = isArray(workers) ? workers : [workers];\n  let workerList = [];\n  let initFlag = false;\n  const uiFrameworkList = isArray(uiFrameworks) ? uiFrameworks : [uiFrameworks];\n  const invokeContext = context || {};\n  const instance = {\n    addWorker(preWorkerItem) {\n      return loadWorker(preWorkerItem).then((workerItem) => {\n        const ret = this.initWorker(workerItem);\n        workerList.push(ret);\n        return ret;\n      });\n    },\n    getWorkerList() {\n      return workerList;\n    },\n    registerContext(namespace, ctx) {\n      invokeContext[namespace] = ctx;\n    },\n    registerFrameWorker(newUIFramework) {\n      uiFrameworkList.push(newUIFramework);\n    },\n    initWorkerList() {\n      if (initFlag) return;\n      initFlag = true;\n      preWorkerList.forEach((preWorkerItem) => {\n        loadWorker(preWorkerItem).then((workerItem) => {\n          workerList.push(this.initWorker(workerItem));\n        }, (err) => {\n          console.error(err);\n        });\n      });\n    },\n    removeWorker(workItem) {\n      for (let i = 0; i < workerList.length; i++) {\n        if (workerList[i] === workItem) {\n          workerList.splice(i, 1);\n          return;\n        }\n      }\n    },\n    initWorker(workerItem) {\n      const _this = this;\n      try {\n        const {worker, el, bundleJs, cssEls, cssUrls, query, hash} = workerItem;\n        workerItem.destroy = function(clear) {\n          if (clear) {\n            if (vdomRender && vdomRender.unmountComponentAtNode) {\n              vdomRender.unmountComponentAtNode(el);\n              el.innerHTML = '';\n            }\n            removeCssEls(cssEls);\n          }\n          worker.terminate();\n          _this.removeWorker(this);\n        };\n        workerItem.reload = function() {\n          this.destroy();\n          if (bundleJs) {\n            _this.addWorker({\n              el: el,\n              worker: bundleJs,\n              cssUrls\n            });\n          }\n        };\n        workerItem.componentMap = genComponentMap(workerItem);\n        const parser = createParse({\n          React: vdom,\n          ReactDOM: vdomRender,\n          componentMap: workerItem.componentMap,\n          UIFrameworks: uiFrameworkList,\n          FunProxy: generateFunProxy(worker),\n          postLifeCycleMessage: genPostLifeCycleMessage(worker)\n        });\n        worker.onmessage = genOnMessage((data) => {\n          const {type} = data;\n          if (type === GLOBAL_RENDER) {\n            const {data: renderData} = data.data;\n            vdomRender.render(parser(renderData), el);\n          } else if (type === COMPONENT_RENDER) {\n            const {data: stateData, componentId} = data.data;\n            const target = workerItem.componentMap.get(componentId);\n            if (!target) return;\n            target.setState({\n              data: parser(stateData)\n            });\n          } else if (type === INVOKE) {\n            const {api, params, method, success, error} = data.data;\n            if (Invoker[method]) {\n              // console.log('api :', api, params);\n              Invoker[method](invokeContext, api, deserialize(params, worker, parser), deserialize(success, worker, parser), deserialize(error, worker, parser));\n            }\n          } else if ( type === GET_RENDER_PARAM) {\n            postMessage(worker, {\n              type: SEND_RENDER_PARAM,\n              data: assign({}, query, {\n                [LOCATION]: {\n                  hash: hash || location.hash,\n                  host: location.host,\n                  hostname: location.hostname,\n                  href: location.href,\n                  origin: location.origin,\n                  pathname: location.pathname,\n                  port: location.port,\n                  protocol: location.protocol\n                }\n              })\n            });\n          }\n          devHandle(data, worker);\n        });\n        return workerItem;\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  };\n  instance.initWorkerList();\n  return instance;\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/index.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 7\n// module chunks = 0","import {DOM_CREATE, DOM_APPENDCHILD, ID, DOM_INSERTBEFORE} from '../constant';\nimport {invoke} from '../rpc/index';\nimport {isArray} from '../util/index';\n\nexport function devHook() {\n  if (process.env.NODE_ENV === 'development') {\n    const PREFIX = 'webworkerstyle';\n    let count = 0;\n    function genId() {\n      return `${PREFIX}-${++count}`;\n    }\n    class Element {\n      constructor(tag, isQuery) {\n        this.tag = tag;\n        this.nodeType = 1;\n        this[ID] = genId();\n        this.isQuery = isQuery;\n        this.attrs = Object.create(null);\n        this.child = [];\n        this.childJS = [];\n        this.firstChild = null;\n        this.lastChild = null;\n        this.nextSibling = null;\n        if (!isQuery) {\n          invoke(DOM_CREATE, this.toJS());\n        }\n      }\n      setAttribute(key, value) {\n        this.attrs[key] = value;\n      }\n      appendChild(item) {\n        const ele = item.toJS();\n        const {tag, nodeType, isQuery, attrs} = this;\n        const beforeLastChild = this.child[this.child.length - 1];\n        if (beforeLastChild) {\n          beforeLastChild.nextSibling = item;\n        }\n        this.child.push(item);\n        this.childJS.push(ele);\n        this.firstChild = this.child[0];\n        this.lastChild = this.child[this.child.length - 1];\n        invoke(DOM_APPENDCHILD, {\n          tag,\n          nodeType,\n          isQuery,\n          attrs,\n          [ID]: this[ID],\n          child: [ele]\n        });\n      }\n      insertBefore(item, target) {\n        let index = -1, targetEl;\n        const ele = item.toJS();\n        for (let i = 0; i < this.child.length; i++) {\n          targetEl = this.child[i];\n          if (targetEl[ID] === target[ID]) {\n            index = i;\n            break;\n          }\n        }\n        if (index === -1) {\n          return\n;\n        }\n        const beforeSibling = this.child[index - 1];\n        beforeSibling && (beforeSibling.nextSibling = item);\n        item.nextSibling = target;\n        this.child.splice(index, 0, item);\n        this.childJS.splice(index, 0, ele);\n        this.firstChild = this.child[0];\n        this.lastChild = this.child[this.child.length - 1];\n        invoke(DOM_INSERTBEFORE, {\n          opr: this.toJS(),\n          ele,\n          target: target.toJS()\n        });\n      }\n      toJS() {\n        const {tag, nodeType, isQuery, attrs, childJS} = this;\n        return {\n          tag,\n          nodeType,\n          isQuery,\n          attrs,\n          child: childJS,\n          [ID]: this[ID]\n        };\n      }\n        }\n    class Text {\n      constructor(content) {\n        this.nodeType = 3;\n        this.content = content;\n        this[ID] = genId();\n        invoke(DOM_CREATE, this.toJS());\n      }\n      toJS() {\n        const {nodeType, content} = this;\n        return {\n          nodeType,\n          content,\n          [ID]: this[ID]\n        };\n      }\n        }\n    global.window = {};\n    global.document = {\n      createElement: function(tag) {\n        return new Element(tag);\n      },\n      querySelector(target) {\n        return new Element(target, true);\n      },\n      createTextNode: function(content) {\n        return new Text(content);\n      }\n    };\n  }\n}\n\nexport function devHandle(data, worker) {\n  if (process.env.NODE_ENV === 'development') {\n    let domMap = worker.domMap;\n    if (domMap == null) {\n      domMap = worker.domMap = new Map();\n    }\n    const type = data.type;\n    function getElement(data) {\n      if (data.isQuery) {\n        return document.querySelector(data.tag);\n      }\n      return domMap.get(data[ID]);\n    }\n    function parse(data) {\n      if (data == null) return data;\n      if (isArray(data)) {\n        return data.map((item) => {\n          return parse(item);\n        });\n      }\n      const {tag, nodeType, isQuery, attrs, child, content} = data;\n      let eleChild = parse(child);\n      let ele = getElement(data);\n      const attrsKeys = attrs ? Object.keys(attrs) : null;\n      (attrsKeys) && attrsKeys.forEach((name) => {\n        ele.setAttribute(name, attrs[name]);\n      });\n      (eleChild && ele) && eleChild.forEach((ch) => {\n        ele.appendChild(ch);\n      });\n      return ele;\n    }\n    function createElement(data) {\n      const {tag, nodeType, content} = data;\n      let ele;\n      if (nodeType === 1) {\n        ele = document.createElement(tag);\n      } else {\n        ele = document.createTextNode(content);\n      }\n      domMap.set(data[ID], ele);\n    }\n    function insertBefore(vopr, vele, vtarget) {\n      let opr = getElement(vopr);\n      let ele = getElement(vele);\n      let target = getElement(vtarget);\n      opr.insertBefore(ele, target);\n    }\n    if (type === DOM_CREATE) {\n      createElement(data.data);\n    } else if (type === DOM_APPENDCHILD) {\n      parse(data.data);\n    } else if (type === DOM_INSERTBEFORE) {\n      const {opr, ele, target} = data.data;\n      insertBefore(opr, ele, target);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-common/src/dev/index.js","\n\nimport {Util} from 'medivh-common';\nconst {isString, isArray, isObject, assign} = Util;\nconst JS_CACHE = Object.create(null);\nlet workerId = 1;\n\n// function generateQuery(param = {}) {\n//   const paramStr = JSON.stringify(param);\n//   return `?query=${paramStr}&hash=${location.hash}`;\n// }\n\n// function appendQuery(url, param = {luodan: 444}) {\n//   if (param == null || url == null) return url;\n//   const hashIndex = url.indexOf('#');\n//   let hashStr = location.hash;\n//   if (hashIndex >= 0) {\n//     url = url.substring(0, hashIndex);\n//   }\n//   const askIndex = url.indexOf('?');\n//   const paramStr = JSON.stringify(param);\n//   const queryStr = encodeURIComponent(`query=${paramStr}&hash=${hashStr}`);\n//   if (askIndex >= 0) {\n//     if (url.charAt(url.length - 1) === '&') {\n//       return `${url}${queryStr}`;\n//     }\n//     return `${url}${queryStr ? '&' + queryStr : queryStr}`;\n//   }\n//   return `${url}${queryStr ? '?' + queryStr : queryStr}`;\n// }\n\nfunction createWorker(content, url) {\n  // content = `\n  // console.log('location11123')\n  // (function(global,$$search){\n  //   // console.log('location1112 :',location,global,$$search)\n  //   ${content}\n  // }({\n    \n  // }),\"${generateQuery(query)}\")`;\n  try {\n    try {\n      var blob;\n    \n      try {\n            // BlobBuilder = Deprecated, but widely implemented\n        var BlobBuilder = window.BlobBuilder ||\n            window.WebKitBlobBuilder ||\n            window.MozBlobBuilder ||\n            window.MSBlobBuilder;\n        blob = new BlobBuilder();\n        blob.append(content);\n    \n        blob = blob.getBlob();\n      } catch (e) {\n            // The proposed API\n        blob = new Blob([content]);\n      }\n      return new Worker(URL.createObjectURL(blob));\n    } catch (e) {\n      return new Worker('data:application/javascript,' + encodeURIComponent(content));\n    }\n  } catch (e) {\n    if (url) {\n      // throw Error('Inline worker is not supported');\n      return new Worker(url);\n    }\n    \n    // return new Worker(url);\n  }\n}\n\nlet docHead;\nfunction loadCss(cssUrl) {\n  const link = document.createElement('link');\n  link.type = 'text/css';\n  link.rel = 'stylesheet';\n  link.href = cssUrl;\n  if (!docHead) {\n    docHead = document.getElementsByTagName('head')[0];\n  }\n  docHead.appendChild(link);\n  return link;\n}\n\nfunction loadCssList(cssUrlList) {\n  return cssUrlList.map((cssURL) => {\n    return loadCss(cssURL);\n  });\n}\n\nexport function removeCssEls(cssEls) {\n  if (cssEls == null) return;\n  return cssEls.forEach((el) => {\n    docHead.removeChild(el);\n  });\n}\n\nfunction toArray(obj) {\n  if (obj == null) return [];\n  if (isArray(obj)) {\n    return obj;\n  }\n  return [obj];\n}\n\n\nfunction get(url, cache) {\n  return new Promise((resolve, reject) => {\n    const urlResp = JS_CACHE[url];\n    if (cache && urlResp) {\n      return resolve(urlResp);\n    }\n    const oReq = new XMLHttpRequest();\n    oReq.addEventListener('load', function() {\n      if (cache) {\n        JS_CACHE[url] = this.responseText;\n      }\n      return resolve(this.responseText);\n    }, false);\n    oReq.addEventListener('abort', reject, false);\n    oReq.addEventListener('error', reject, false);\n    oReq.open('get', url, true);\n    oReq.send();\n  });\n}\n\nfunction getList(urls = [], splitChar) {\n  return Promise.all(urls.map(function(url) {\n    if (isObject(url)) {\n      return get(url.url, url.cache);\n    }\n    return get(url);\n  })).then(function(resps) {\n    return resps.join(splitChar);\n  });\n}\n\n\nexport default function(item) {\n  const {worker, el: preEl, cssUrls, jsUrls, jsCodes = '', splitChar = '\\n'} = item;\n  const el = isString(preEl) ? document.getElementById(preEl) : preEl;\n  const cssUrlList = toArray(cssUrls);\n  const jsUrlList = toArray(jsUrls);\n  return new Promise((resolve, reject) => {\n    if (worker == null) return reject(new Error('worker不能为空'));\n    if (worker instanceof Worker) {\n      worker.id = workerId++;\n      return resolve(assign({}, item, {\n        bundleJs: '',\n        worker: worker,\n        el,\n        cssEls: loadCssList(cssUrlList)\n      }));\n    }\n    getList([].concat(jsUrlList, worker), splitChar).then(function(responseText) {\n      const loadedWorker = createWorker(jsCodes + responseText, null);\n      loadedWorker.id = workerId++;\n      return resolve(assign({}, item, {\n        bundleJs: worker,\n        worker: loadedWorker,\n        el,\n        cssEls: loadCssList(cssUrlList)\n      }));\n    }, reject);\n  });\n};\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/load_worker.js","import {Constant, Util} from 'medivh-common';\nimport createVComponent from './vcomponent';\nconst {isArray, isObject, toHump} = Util;\nconst {VCOMPONENT, STATE, ID, COMPONENT_ID, LIEF_CYCLE, COMPONENT_TYPE, TYPE} = Constant;\n\nconst FILTER_ATTR_MAP = {\n  [STATE]: true,\n  [TYPE]: true\n};\n\nconst typeMap = new Map();\n\nfunction extractUIComponent(frameworks, type) {\n  const cacheComponent = typeMap.get(type);\n  if (cacheComponent) {\n    return cacheComponent\n;\n  }\n  const typeList = type.split('-');\n  let target;\n  for (let i = 0; i < frameworks.length; i++) {\n    target = frameworks[i];\n    for (let i = 0; i < typeList.length; i++) {\n      const item = toHump(typeList[i]);\n            // console.log('item :',item);\n      target = target[item];\n      if (target == null) break;\n    }\n    if (target) {\n      break;\n    }\n  }\n    // console.log('target :',target,type);\n  typeMap.set(type, target);\n  return target;\n}\n\n\nexport default function({React, ReactDOM, UIFrameworks, \n    FunProxy, postLifeCycleMessage, componentMap}) {\n  const VComponent = createVComponent({React, ReactDOM, postLifeCycleMessage, componentMap});\n  function parse(data, index) {\n    if (data == null) return;\n    if (isArray(data)) {\n      return data.map((item, index) => {\n        return parse(item, index);\n      });\n    } else if (!isObject(data) || !data[COMPONENT_TYPE]) {\n      return data;\n    }\n    let {componentId, props, children, lifeCycle} = data;\n    let type = data[COMPONENT_TYPE];\n    let RenderComponent = type;\n    let newProps = {};\n    if (props) {\n      for (const name in props) {\n        const item = props[name];\n        if (item && item[ID]) {\n          newProps[name] = FunProxy.bind(null, name, componentId, item[ID], props);\n        } else if (!FILTER_ATTR_MAP[name]) {\n          newProps[name] = parse(props[name]);\n        }\n      }\n      if (props[STATE]) {\n        newProps[STATE] = parse(props[STATE]);\n      }\n    }\n    if (VCOMPONENT === type) {\n      RenderComponent = VComponent;\n      newProps[COMPONENT_ID] = componentId;\n      newProps[LIEF_CYCLE] = lifeCycle;\n    } else if (UIFrameworks) {\n      const humpComponent = extractUIComponent(UIFrameworks, type);\n      humpComponent && (RenderComponent = humpComponent);\n    }\n    // if (index != null && newProps.key == null) {\n    //   newProps.key = componentId;\n    // }\n    // if (componentId) {\n    //   newProps.key = componentId;\n    // }\n    if (componentId) {\n      newProps.key = (props && props.key != null) ? props.key : componentId;\n    }\n    // if (newProps.$$construct) {\n    //   console.log('newProps :', newProps);\n    // }\n    // props[COMPONENT_ID] = componentId;\n    // props[LIEF_CYCLE] = lifeCycle;\n    const renderChildren = children ? parse(children) : [];\n    const retComponent = React.createElement(RenderComponent, newProps, ...renderChildren);\n    return retComponent;\n  }\n  return parse;\n}\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/parse.js","\n\nimport {Constant} from 'medivh-common';\nconst {COMPONENT_ID, LIEF_CYCLE, STATE} = Constant;\n// import ComponentMap from './component_map';\n\n\n\n\nfunction registerLifeCycle(component, postLifeCycleMessage) {\n  const cycleMap = component.props[LIEF_CYCLE];\n  Object.keys(cycleMap).forEach((name) => {\n    const method = component[name];\n    component[name] = function(...args) {\n      method && method.apply(component, args);\n      postLifeCycleMessage(component[COMPONENT_ID], name, args);\n    };\n  });\n}\n\n\n// function proxyComponentWillUnmount(obj){\n//     if(obj.componentWillUnmount){\n//         const method = obj.componentWillUnmount;\n//         obj.componentWillUnmount = function(...args){\n//             ComponentMap.unregister(obj)\n//             return method.apply(obj,args)\n//         }\n//     }else{\n//         obj.componentWillUnmount = function(){\n//             ComponentMap.unregister(obj);\n//         }\n//     }\n// }\n\nfunction replaceComponentId(obj, nextProps, componentMap) {\n  const newId = nextProps[COMPONENT_ID];\n  if (newId) {\n    const oldId = obj[COMPONENT_ID];\n    obj[COMPONENT_ID] = newId;\n    componentMap.replace(oldId, obj);\n  }\n}\n\n// function proxyComponentWillReceiveProps(obj){\n//     if(obj.componentWillReceiveProps){\n//         const method = obj.componentWillReceiveProps;\n//         obj.componentWillReceiveProps = function(nextProps){\n//             replaceComponentId(obj,nextProps);\n//             return method.apply(obj,nextProps)\n//         }\n//     }else{\n//         obj.componentWillReceiveProps = function(nextProps){\n//             console.log('nextProps :',nextProps);\n//             replaceComponentId(obj,nextProps);\n//         }\n//     }\n// }\n\nexport default function({React, ReactDOM, postLifeCycleMessage, componentMap}) {\n  return class VComponent extends React.Component {\n    constructor(props) {\n      super(props);\n      if (props[COMPONENT_ID]) {\n        this[COMPONENT_ID] = props[COMPONENT_ID];\n        componentMap.register(this);\n      }\n      this[COMPONENT_ID] = props[COMPONENT_ID];\n      registerLifeCycle(this, postLifeCycleMessage);\n            // proxyComponentWillUnmount(this);\n            // const {$$state} = props;\n      this.state = {\n        data: props[STATE]\n      };\n    }\n    componentWillUnmount() {\n            // console.log(this.props[COMPONENT_ID]);\n      componentMap.unregister(this);\n    }\n        // componentDidMount(){\n        //     console.log('did mount',this.props);\n        // }\n        // componentDidUpdate(){\n        //     console.log('did update');\n        // }\n    componentWillReceiveProps(nextProps) {\n      this.state.data = nextProps[STATE];\n      replaceComponentId(this, nextProps, componentMap);\n    }\n    render() {\n      const {data} = this.state;\n      return data == null ? '' : data;\n    }\n    };\n}\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/vcomponent.js","\nimport {Constant, Util} from 'medivh-common';\nimport {postMessage} from './util';\nconst {INVOKE_CALLBACK, ID, INVOKE_CALLBACK_ID} = Constant; \nconst {isArray, isObject} = Util;\n\nfunction genProxyFunction(funId, worker) {\n  const ret = function(...args) {\n    return postMessage(worker, {\n      type: INVOKE_CALLBACK,\n      data: {\n        params: args,\n        id: funId\n      }\n    });\n  };\n  ret[ID] = funId;\n  return ret;\n}\nfunction getContextAndTarget(context, api) {\n  if (!api) return {};\n  let apiList = api.split('.');\n  const ret = apiList.reduce((ret, name) => {\n    ret.context = ret.target;\n    if (ret.target) {\n      ret.target = ret.target[name];\n    }\n    return ret;\n  }, {context: null, target: context});\n  return ret;\n}\n\nexport function deserialize(data, worker, parser) {\n  if (data == null) return;\n  if (isArray(data)) {\n    return data.map((item) => {\n      return deserialize(parser(item), worker, parser)\n;\n    });\n  }\n  data = parser(data);\n  if (isObject(data)) {\n    // 此处为兼容性代码，应用只需要去data[ID]，INVOKE_CALLBACK_ID是为了兼容老的\n    const fun_flag_id = data[ID] || data[INVOKE_CALLBACK_ID];\n    if (fun_flag_id) { // 组件里的函数标识\n      return genProxyFunction(fun_flag_id, worker);\n    } else {\n      const ret = {}; \n      for (let attr in data) {\n        ret[attr] = deserialize(parser(data[attr]), worker, parser);\n      }\n    }\n  }\n  return data;\n}\n\n\nconst Invoker = {\n  invokeContextCallback(context, api, params) {\n    const ret = getContextAndTarget(context, api);\n    if (ret.context && ret.target) {\n      ret.target.apply(ret.context, params);\n    }\n  },\n  invokeContextPromise(context, api, params, success, error) {\n    const ret = getContextAndTarget(context, api);\n    if (ret.context && ret.target) {\n      try {\n        const result = ret.target.apply(ret.context, params);\n        if (result && result.then) {\n          result.then(success, error);\n          return;\n        } else {\n          success && success(result);\n          return;\n        }\n      } catch (e) {\n        error && error(e.message);\n        return;\n      }\n    } else {\n      error && error(`此API【${api}】不存在`);\n    }\n  }\n//   invokeContextSync(context, api, params, success, error) {\n//     const ret = getContextAndTarget(context, api);\n//     if (ret.context && ret.target) {\n//       try {\n//         const result = ret.target.apply(ret.context, params);\n//         success && success(result);\n//       } catch (e) {\n//         error && error(e.message);\n//       }\n//     }\n//   }\n};\n\nexport default Invoker;\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/invoke.js","\n\nimport {Constant} from 'medivh-common';\nconst {COMPONENT_ID} = Constant;\n\n// const Cache = new Map();\nexport default function(worker) {\n  const Cache = new Map();\n  return {\n    register(component) {\n      Cache.set(component[COMPONENT_ID], component);\n    },\n    replace(oldId, component) {\n      Cache.delete(oldId);\n      Cache.set(component[COMPONENT_ID], component);\n    },\n    unregister(component) {\n      Cache.delete(component[COMPONENT_ID]);\n    },\n    get(id) {\n      return Cache.get(id);\n    }\n        // show(){\n        //     Cache.forEach(function(value, key, mapObj) {\n        //         console.log(value + '---' + key + '---' + mapObj);\n        //     });\n        // }\n  };\n}\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-render/src/render/component_map.js"],"sourceRoot":""}