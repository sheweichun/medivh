!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MedivhRender=t():e.MedivhRender=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="../",t(t.s=5)}([function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return c});var r=(n(2),n(1)),o=n(8),i=n(3),u=r,a=o,c=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"GLOBAL_RENDER",function(){return r}),n.d(t,"COMPONENT_RENDER",function(){return o}),n.d(t,"LOCATION",function(){return i}),n.d(t,"ID",function(){return u}),n.d(t,"VCOMPONENT",function(){return a}),n.d(t,"STATE",function(){return c}),n.d(t,"TYPE",function(){return f}),n.d(t,"COMPONENT_TYPE",function(){return s}),n.d(t,"COMPONENT_ID",function(){return l}),n.d(t,"PARENT_COMPONENT_ID",function(){return d}),n.d(t,"REF",function(){return p}),n.d(t,"LIEF_CYCLE",function(){return v}),n.d(t,"FUN_CALLBACK",function(){return y}),n.d(t,"LIEF_CYCLE_CALLBACK",function(){return b}),n.d(t,"STOP_PROPAGATION",function(){return E}),n.d(t,"PREVENT_DEFAULT",function(){return m}),n.d(t,"EVENT_LIST",function(){return O}),n.d(t,"IDENTITY",function(){return h}),n.d(t,"REMOVE_COMPONENTIDS",function(){return _}),n.d(t,"CONSTRUCTOR",function(){return g}),n.d(t,"INVOKE",function(){return C}),n.d(t,"INVOKE_CALLBACK",function(){return A}),n.d(t,"INVOKE_CALLBACK_ID",function(){return P}),n.d(t,"DOM_CREATE",function(){return N}),n.d(t,"DOM_APPENDCHILD",function(){return L}),n.d(t,"DOM_INSERTBEFORE",function(){return M}),n.d(t,"GET_RENDER_PARAM",function(){return T}),n.d(t,"SEND_RENDER_PARAM",function(){return j}),n.d(t,"REMOVE_ELE",function(){return R}),n.d(t,"ADD_ELE",function(){return k}),n.d(t,"CHANGGE_ELE",function(){return w});var r="global_render",o="component_render",i="$$location",u="$$com_fun_id",a="$$VCompoennt",c="$$state",f="$$type",s="$$ctp",l="$$componentId",d="$$parentComponentId",p="$$ref",v="$$lifecycle",y="function_callback",b="lifecycle_callback",E="StopPropagation",m="PreventDefault",O="$$event_list",h="$$identity",_="removeComponentIdList",g="$$construct",C="$$invoke",A="$$invoke_callback",P="$$fun_id$$",N="domCreate",L="domAppendChild",M="domInsertBefore",T="$$get_render_param",j="$$send_render_param",R=1,k=2,w=3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(t,n){e.postMessage({type:t,data:n})}function r(t){e.addMessage?e.addMessage(t):e.onmessage=function(e){var n=e.data;t(n)}}t.invoke=n,t.init=r}.call(t,n(7))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"object"===(void 0===e?"undefined":E(e))}function u(e){return"string"==typeof e}function a(e){return"function"==typeof e}function c(e){return"symbol"===(void 0===e?"undefined":E(e))}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0;o<n.length;o++){var i=n[o];if(i)for(var u in i)e[u]=i[u]}return e}function s(e){return null==e?[]:o(e)?[].concat(e):[e]}function l(e){return e&&e.hasOwnProperty("clientX")&&e.hasOwnProperty("clientY")}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r={};for(var o in e)t[o]||(n&&!m[o]?r[o]=n(e[o],o):r[o]=e[o]);return r}function p(e){return e.replace(/^\S/,function(e){return e.toUpperCase()})}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return t<0||c(e)?null:o(e)?e.map(function(e){return v(e,t-1)}):i(e)?Object.keys(e).reduce(function(n,r){return n[r]=e[r]?v(e[r],t-1):e[r],n},{}):a(e)?null:e}Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=o,t.isObject=i,t.isString=u,t.isFunc=a,t.isSymbol=c,t.assign=f,t.toArray=s,t.isEvent=l,t.clonePropsByFilter=d,t.toHump=p,t.cloneArgs=v;var y,b=n(1),E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=(y={children:!0},r(y,b.STATE,!0),r(y,b.TYPE,!0),r(y,"key",!0),y)},function(e,t,n){"use strict";function r(e,t){e.postMessage(t)}function o(e){return function(t){var n=t.data;e(n)}}t.b=r,t.a=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);n.d(t,"render",function(){return r.a})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return function(t,n,r){Object(l.b)(e,{type:C,data:{id:t,cycleName:n,params:[]}})}}function i(e){return function(t,n,r,o){for(var i=arguments.length,u=Array(i>4?i-4:0),a=4;a<i;a++)u[a-4]=arguments[a];var c=u.map(function(e){if(p(e)){var n=o[""+t+P],r=o[""+t+A];return n&&e.preventDefault&&e.preventDefault(),r&&e.stopPropagation&&e.stopPropagation(),{metaKey:e.metaKey,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,button:e.button}}return e}),f=d(c);Object(l.b)(e,{type:h,data:{id:r,componentId:n,params:f}})}}var u=n(0),a=n(9),c=n(10),f=n(12),s=n(13),l=n(4),d=u.c.cloneArgs,p=u.c.isEvent,v=u.c.isArray,y=(u.c.isString,u.c.assign),b=u.b.devHandle,E=u.a.GLOBAL_RENDER,m=u.a.COMPONENT_RENDER,O=u.a.INVOKE,h=u.a.FUN_CALLBACK,_=u.a.GET_RENDER_PARAM,g=u.a.SEND_RENDER_PARAM,C=u.a.LIEF_CYCLE_CALLBACK,A=u.a.STOP_PROPAGATION,P=u.a.PREVENT_DEFAULT,N=u.a.LOCATION;t.a=function(e){var t=e.workers,n=e.vdom,u=e.vdomRender,d=e.uiFrameworks,p=e.context,h=v(t)?t:[t],C=[],A=!1,P=v(d)?d:[d],L=p||{},M={addWorker:function(e){var t=this;return Object(a.a)(e).then(function(e){var n=t.initWorker(e);return C.push(n),n})},getWorkerList:function(){return C},registerContext:function(e,t){L[e]=t},registerFrameWorker:function(e){P.push(e)},initWorkerList:function(){var e=this;A||(A=!0,h.forEach(function(t){Object(a.a)(t).then(function(t){C.push(e.initWorker(t))},function(e){console.error(e)})}))},removeWorker:function(e){for(var t=0;t<C.length;t++)if(C[t]===e)return void C.splice(t,1)},initWorker:function(e){var t=this;try{var d=e.worker,p=e.el,v=e.bundleJs,h=e.cssEls,C=e.cssUrls,A=e.query,M=e.hash;e.destroy=function(){u&&u.unmountComponentAtNode&&(u.unmountComponentAtNode(p),p.innerHTML=""),Object(a.b)(h),d.terminate(),t.removeWorker(this)},e.reload=function(){this.destroy(),v&&t.addWorker({el:p,worker:v,cssUrls:C})},e.componentMap=Object(s.a)(e);var T=Object(c.a)({React:n,ReactDOM:u,componentMap:e.componentMap,UIFrameworks:P,FunProxy:i(d),postLifeCycleMessage:o(d)});return d.onmessage=Object(l.a)(function(t){var n=t.type;if(n===E){var o=t.data.data;u.render(T(o),p)}else if(n===m){var i=t.data,a=i.data,c=i.componentId,s=e.componentMap.get(c);if(!s)return;s.setState({data:T(a)})}else if(n===O){var v=t.data,h=v.api,C=v.params,P=v.method,j=v.success,R=v.error;f.a[P]&&f.a[P](L,h,Object(f.b)(C,d,T),Object(f.b)(j,d,T),Object(f.b)(R,d,T))}else n===_&&Object(l.b)(d,{type:g,data:y({},A,r({},N,{hash:M||location.hash,host:location.host,hostname:location.hostname,href:location.href,origin:location.origin,pathname:location.pathname,port:location.port,protocol:location.protocol}))});b(t,d)}),e}catch(e){console.error(e)}}};return M.initWorkerList(),M}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(){}function o(e,t){}Object.defineProperty(t,"__esModule",{value:!0}),t.devHook=r,t.devHandle=o;n(1),n(2),n(3),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}}()},function(e,t,n){"use strict";function r(e,t){try{try{var n;try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;n=new r,n.append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(URL.createObjectURL(n))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(t)return new Worker(t)}}function o(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,E||(E=document.getElementsByTagName("head")[0]),E.appendChild(t),t}function i(e){return e.map(function(e){return o(e)})}function u(e){if(null!=e)return e.forEach(function(e){E.removeChild(e)})}function a(e){return null==e?[]:d(e)?e:[e]}function c(e,t){return new Promise(function(n,r){var o=y[e];if(t&&o)return n(o);var i=new XMLHttpRequest;i.addEventListener("load",function(){return t&&(y[e]=this.responseText),n(this.responseText)},!1),i.addEventListener("abort",r,!1),i.addEventListener("error",r,!1),i.open("get",e,!0),i.send()})}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return Promise.all(e.map(function(e){return p(e)?c(e.url,e.cache):c(e)})).then(function(e){return e.join(t)})}t.b=u;var s=n(0),l=s.c.isString,d=s.c.isArray,p=s.c.isObject,v=s.c.assign,y=Object.create(null),b=1,E=void 0;t.a=function(e){var t=e.worker,n=e.el,o=e.cssUrls,u=e.jsUrls,c=e.jsCodes,s=void 0===c?"":c,d=e.splitChar,p=void 0===d?"\n":d,y=l(n)?document.getElementById(n):n,E=a(o),m=a(u);return new Promise(function(n,o){return null==t?o(new Error("worker不能为空")):t instanceof Worker?(t.id=b++,n(v({},e,{bundleJs:"",worker:t,el:y,cssEls:i(E)}))):void f([].concat(m,t),p).then(function(o){var u=r(s+o,null);return u.id=b++,n(v({},e,{bundleJs:t,worker:u,el:y,cssEls:i(E)}))},o)})}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=h.get(t);if(n)return n;for(var r=t.split("-"),o=void 0,i=0;i<e.length;i++){o=e[i];for(var u=0;u<r.length;u++){if(null==(o=o[l(r[u])]))break}if(o)break}return h.set(t,o),o}var u,a=n(0),c=n(11),f=a.c.isArray,s=a.c.isObject,l=a.c.toHump,d=a.a.VCOMPONENT,p=a.a.STATE,v=a.a.ID,y=a.a.COMPONENT_ID,b=a.a.LIEF_CYCLE,E=a.a.COMPONENT_TYPE,m=a.a.TYPE,O=(u={},o(u,p,!0),o(u,m,!0),u),h=new Map;t.a=function(e){function t(e,o){if(null!=e){if(f(e))return e.map(function(e,n){return t(e,n)});if(!s(e)||!e[E])return e;var c=e.componentId,l=e.props,m=e.children,_=e.lifeCycle,g=e[E],C=g,A={};if(l){for(var P in l){var N=l[P];N&&N[v]?A[P]=a.bind(null,P,c,N[v],l):O[P]||(A[P]=t(l[P]))}l[p]&&(A[p]=t(l[p]))}if(d===g)C=h,A[y]=c,A[b]=_;else if(u){var L=i(u,g);L&&(C=L)}c&&(A.key=l&&null!=l.key?l.key:c);var M=m?t(m):[];return n.createElement.apply(n,[C,A].concat(r(M)))}}var n=e.React,o=e.ReactDOM,u=e.UIFrameworks,a=e.FunProxy,l=e.postLifeCycleMessage,m=e.componentMap,h=Object(c.a)({React:n,ReactDOM:o,postLifeCycleMessage:l,componentMap:m});return t}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n=e.props[l];Object.keys(n).forEach(function(n){var r=e[n];e[n]=function(){for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];r&&r.apply(e,i),t(e[s],n,i)}})}function a(e,t,n){var r=t[s];if(r){var o=e[s];e[s]=r,n.replace(o,e)}}var c=n(0),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=c.a.COMPONENT_ID,l=c.a.LIEF_CYCLE,d=c.a.STATE;t.a=function(e){var t=e.React,n=(e.ReactDOM,e.postLifeCycleMessage),c=e.componentMap;return function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e[s]&&(i[s]=e[s],c.register(i)),i[s]=e[s],u(i,n),i.state={data:e[d]},i}return i(t,e),f(t,[{key:"componentWillUnmount",value:function(){c.unregister(this)}},{key:"componentWillReceiveProps",value:function(e){this.state.data=e[d],a(this,e,c)}},{key:"render",value:function(){var e=this.state.data;return null==e?"":e}}]),t}(t.Component)}},function(e,t,n){"use strict";function r(e,t){var n=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return Object(a.b)(t,{type:c,data:{params:r,id:e}})};return n[f]=e,n}function o(e,t){return t?t.split(".").reduce(function(e,t){return e.context=e.target,e.target&&(e.target=e.target[t]),e},{context:null,target:e}):{}}function i(e,t,n){if(null!=e){if(l(e))return e.map(function(e){return i(n(e),t,n)});if(e=n(e),d(e)){var o=e[f]||e[s];if(o)return r(o,t);var u={};for(var a in e)u[a]=i(n(e[a]),t,n)}return e}}t.b=i;var u=n(0),a=n(4),c=u.a.INVOKE_CALLBACK,f=u.a.ID,s=u.a.INVOKE_CALLBACK_ID,l=u.c.isArray,d=u.c.isObject,p={invokeContextCallback:function(e,t,n){var r=o(e,t);r.context&&r.target&&r.target.apply(r.context,n)},invokeContextPromise:function(e,t,n,r,i){var u=o(e,t);if(u.context&&u.target)try{var a=u.target.apply(u.context,n);return a&&a.then?void a.then(r,i):void(r&&r(a))}catch(e){return void(i&&i(e.message))}else i&&i("此API【"+t+"】不存在")}};t.a=p},function(e,t,n){"use strict";var r=n(0),o=r.a.COMPONENT_ID;t.a=function(e){var t=new Map;return{register:function(e){t.set(e[o],e)},replace:function(e,n){t.delete(e),t.set(n[o],n)},unregister:function(e){t.delete(e[o])},get:function(e){return t.get(e)}}}}])});
//# sourceMappingURL=medivh-render.min.js.map