{"version":3,"sources":["webpack:///webpack/bootstrap 6a7e00fb729a06130eb3","webpack:////Users/sheweichun/opensource/medivh/node_modules/_warning@4.0.1@warning/warning.js","webpack:////Users/sheweichun/opensource/medivh/node_modules/_invariant@2.2.4@invariant/invariant.js","webpack:////Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/PathUtils.js","webpack:///external \"Medivh\"","webpack:////Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/LocationUtils.js","webpack:////Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/createTransitionManager.js","webpack:////Users/sheweichun/opensource/medivh/node_modules/_resolve-pathname@2.2.0@resolve-pathname/cjs/index.js","webpack:////Users/sheweichun/opensource/medivh/node_modules/_value-equal@0.4.0@value-equal/cjs/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-router/src/history/PathUtils.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-router/src/Router.js","webpack:////Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/DOMUtils.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-router/src/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-router/src/HashRouter.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-router/src/history/createHashHistory.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-router/src/history/LocationUtils.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-router/src/history/createTransitionManager.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-router/src/history/DOMUtils.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-router/src/Link.js","webpack:////Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/index.js","webpack:////Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/createBrowserHistory.js","webpack:////Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/createHashHistory.js","webpack:////Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/createMemoryHistory.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-router/src/Route.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-router/src/matchPath.js","webpack:////Users/sheweichun/opensource/medivh/node_modules/_path-to-regexp@1.7.0@path-to-regexp/index.js","webpack:////Users/sheweichun/opensource/medivh/node_modules/_isarray@1.0.0@isarray/index.js","webpack:////Users/sheweichun/opensource/medivh/packages/medivh-router/src/createWindow.js"],"names":["addLeadingSlash","path","charAt","stripLeadingSlash","substr","hasBasename","prefix","RegExp","test","stripBasename","length","stripTrailingSlash","slice","parsePath","pathname","search","hash","hashIndex","indexOf","searchIndex","createPath","location","Router","state","match","computeMatch","props","history","router","context","route","url","params","isExact","children","invariant","React","Children","count","unlisten","listen","setState","nextProps","warning","Component","HashRouter","createHistory","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","getHashPath","window","href","substring","pushHashPath","replaceHashPath","replace","createHashHistory","sync","globalLocation","globalHistory","canGoWithoutReload","supportsGoWithoutReloadUsingHash","getUserConfirmation","hashType","basename","updateLocation","newLocation","prevlocation","origin","getDOMLocation","createLocation","transitionManager","createTransitionManager","Object","assign","nextState","notifyListeners","action","forceNextPop","ignorePath","handleHashChange","encodedPath","prevLocation","locationsAreEqual","handlePop","$$keep","confirmTransitionTo","ok","revertPop","loc2GlobalLoc","loc","toLocation","toIndex","allPaths","lastIndexOf","fromIndex","fromLocation","delta","go","initialLocation","createHref","push","undefined","hashChanged","prevIndex","nextPaths","n","goBack","goForward","listenerCount","checkDOMListeners","addHashEventListener","removeHashEventListener","isBlocked","block","prompt","unblock","setPrompt","appendListener","listener","key","currentLocation","decodeURI","e","URIError","resolvePathname","a","b","valueEqual","nextPrompt","callback","result","listeners","isActive","fn","filter","item","args","forEach","getConfirmation","message","confirm","supportsPopStateOnHashChange","navigator","userAgent","isExtraneousPopstateEvent","event","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","Link","handleClick","onClick","defaultPrevented","button","target","to","defaultProps","isEmptyChildren","Route","computedMatch","strict","exact","sensitive","matchPath","component","render","nextContext","staticContext","createElement","patternCache","cacheLimit","cacheCount","compilePath","pattern","options","cacheKey","end","cache","keys","re","pathToRegexp","compiledPattern","parent","exec","values","reduce","memo","index","name","appendHash","Runtime","invokeCallback","localLocation","host","hostname","port","protocol","reload","defineProperty","set","newHash","_hash","get","polyFill","handler","opt","back","forward","pushState","replaceState"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC/DA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,0CAA0C,yBAAyB,EAAE;AACrE;AACA;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA;;AAEA;;;;;;;;AClDA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA,E;;;;;;AC5DA,wB;;;;;;;ACAA;;AAEA;AACA;;AAEA,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,0BAA0B;;AAE1B;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,E;;;;;;;AC7EA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,mEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0C;;;;;;;ACpFA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,gCAAgC,QAAQ;AACxC;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,yBAAyB,MAAM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A;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,iGAAiG;;AAEjG,sEAAsE,uBAAuB;;AAE7F;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,oBAAoB,qCAAqC;AACzD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,gFAAgF;;AAEhF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,kBAAkB,qCAAqC;AACvD,OAAO;AACP,8EAA8E;;AAE9E;AACA;AACA,KAAK;AACL;;AAEA;AACA,mFAAmF;;AAEnF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,gBAAgB,qCAAqC;AACrD,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oC;;;;;;;ACnUA;;AAEA;;AAEA,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;;AAEA;AACA,gSAAgS;;AAEhS;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA,mSAAmS;;AAEnS;AACA;;AAEA;AACA;;AAEA;;AAEA,gBAAgB,qCAAqC;AACrD,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sC;;;;;;;;;;;;;;;;;;;;;;;;ACzKA;AACA;AACA;AACA;;AAEA,IAAMQ,kBAAkB,SAAlBA,eAAkB;AAAA,SAAYlI,SAASxB,MAAT,KAAoB,CAAhC;AAAA,CAAxB;;AAEA;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;;AAapD,MAAM9J,UAAUnB,aAAaiB,GAA7B;;AAEA,MAAIyI,SAAS,CAACvI,OAAd,EAAuB,OAAO,IAAP;;AAEvB,SAAO;AACLhC,cADK,EACC;AACN8B,SAAK9B,SAAS,GAAT,IAAgB8B,QAAQ,EAAxB,GAA6B,GAA7B,GAAmCA,GAFnC,EAEwC;AAC7CE,oBAHK,EAGI;AACTD,YAAQyJ,KAAKO,MAAL,CAAY,UAACC,IAAD,EAAOrE,GAAP,EAAYsE,KAAZ,EAAsB;AACxCD,WAAKrE,IAAIuE,IAAT,IAAiBJ,OAAOG,KAAP,CAAjB;AACA,aAAOD,IAAP;AACD,KAHO,EAGL,EAHK;AAJH,GAAP;AASD,CA1BD;;AA4BA,yDAAevB,SAAf,E;;;;;;ACvDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ,YAAY;AACZ;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,YAAY;AACZ,YAAY;AACZ;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA,uBAAuB,kBAAkB;AACzC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA,mCAAmC;AACnC;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,MAAM;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,MAAM;AAClB,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,gBAAgB;AAC5B,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;;AAEA;AACA;AACA,KAAK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","file":"medivh-router.jsonp.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6a7e00fb729a06130eb3","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @providesModule warning\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_warning@4.0.1@warning/warning.js\n// module id = 0\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar NODE_ENV = process.env.NODE_ENV;\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_invariant@2.2.4@invariant/invariant.js\n// module id = 1\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nvar addLeadingSlash = exports.addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n};\n\nvar stripLeadingSlash = exports.stripLeadingSlash = function stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n};\n\nvar hasBasename = exports.hasBasename = function hasBasename(path, prefix) {\n  return new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i').test(path);\n};\n\nvar stripBasename = exports.stripBasename = function stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n};\n\nvar stripTrailingSlash = exports.stripTrailingSlash = function stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n};\n\nvar parsePath = exports.parsePath = function parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n};\n\nvar createPath = exports.createPath = function createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n\n\n  var path = pathname || '/';\n\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : '?' + search;\n\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : '#' + hash;\n\n  return path;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/PathUtils.js\n// module id = 2\n// module chunks = 0","module.exports = Medivh;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Medivh\"\n// module id = 3\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports.locationsAreEqual = exports.createLocation = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _resolvePathname = require('resolve-pathname');\n\nvar _resolvePathname2 = _interopRequireDefault(_resolvePathname);\n\nvar _valueEqual = require('value-equal');\n\nvar _valueEqual2 = _interopRequireDefault(_valueEqual);\n\nvar _PathUtils = require('./PathUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createLocation = exports.createLocation = function createLocation(path, state, key, currentLocation) {\n  var location = void 0;\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = (0, _PathUtils.parsePath)(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = (0, _resolvePathname2.default)(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n};\n\nvar locationsAreEqual = exports.locationsAreEqual = function locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && (0, _valueEqual2.default)(a.state, b.state);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/LocationUtils.js\n// module id = 4\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createTransitionManager = function createTransitionManager() {\n  var prompt = null;\n\n  var setPrompt = function setPrompt(nextPrompt) {\n    (0, _warning2.default)(prompt == null, 'A history supports only one prompt at a time');\n\n    prompt = nextPrompt;\n\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  };\n\n  var confirmTransitionTo = function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          (0, _warning2.default)(false, 'A history needs a getUserConfirmation function in order to use a prompt message');\n\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  };\n\n  var listeners = [];\n\n  var appendListener = function appendListener(fn) {\n    var isActive = true;\n\n    var listener = function listener() {\n      if (isActive) fn.apply(undefined, arguments);\n    };\n\n    listeners.push(listener);\n\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n\n  var notifyListeners = function notifyListeners() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(undefined, args);\n    });\n  };\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n};\n\nexports.default = createTransitionManager;\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/createTransitionManager.js\n// module id = 5\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nfunction isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash = void 0;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) {\n    fromParts.unshift('..');\n  }if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexports.default = resolvePathname;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_resolve-pathname@2.2.0@resolve-pathname/cjs/index.js\n// module id = 6\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction valueEqual(a, b) {\n  if (a === b) return true;\n\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n      return valueEqual(item, b[index]);\n    });\n  }\n\n  var aType = typeof a === 'undefined' ? 'undefined' : _typeof(a);\n  var bType = typeof b === 'undefined' ? 'undefined' : _typeof(b);\n\n  if (aType !== bType) return false;\n\n  if (aType === 'object') {\n    var aValue = a.valueOf();\n    var bValue = b.valueOf();\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) return false;\n\n    return aKeys.every(function (key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexports.default = valueEqual;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_value-equal@0.4.0@value-equal/cjs/index.js\n// module id = 7\n// module chunks = 0","export const addLeadingSlash = path =>\n  path.charAt(0) === \"/\" ? path : \"/\" + path;\n\nexport const stripLeadingSlash = path =>\n  path.charAt(0) === \"/\" ? path.substr(1) : path;\n\nexport const hasBasename = (path, prefix) =>\n  new RegExp(\"^\" + prefix + \"(\\\\/|\\\\?|#|$)\", \"i\").test(path);\n\nexport const stripBasename = (path, prefix) =>\n  hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n\nexport const stripTrailingSlash = path =>\n  path.charAt(path.length - 1) === \"/\" ? path.slice(0, -1) : path;\n\nexport const parsePath = path => {\n  let pathname = path || \"/\";\n  let search = \"\";\n  let hash = \"\";\n\n  const hashIndex = pathname.indexOf(\"#\");\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  const searchIndex = pathname.indexOf(\"?\");\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname,\n    search: search === \"?\" ? \"\" : search,\n    hash: hash === \"#\" ? \"\" : hash\n  };\n};\n\nexport const createPath = location => {\n  const { pathname, search, hash } = location;\n\n  let path = pathname || \"/\";\n\n  if (search && search !== \"?\")\n    path += search.charAt(0) === \"?\" ? search : `?${search}`;\n\n  if (hash && hash !== \"#\") path += hash.charAt(0) === \"#\" ? hash : `#${hash}`;\n\n  return path;\n};\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-router/src/history/PathUtils.js","import warning from 'warning';\nimport invariant from 'invariant';\nimport React from 'medivh';\n\n/**\n * The public API for putting history on context.\n */\nclass Router extends React.Component {\n\n\n  getChildContext() {\n    return {\n      router: {\n        ...this.context.router,\n        history: this.props.history,\n        route: {\n          location: this.props.history.location,\n          match: this.state.match\n        }\n      }\n    };\n  }\n\n  state = {\n    match: this.computeMatch(this.props.history.location.pathname)\n  };\n\n  computeMatch(pathname) {\n    return {\n      path: '/',\n      url: '/',\n      params: {},\n      isExact: pathname === '/'\n    };\n  }\n\n  componentWillMount() {\n    const { children, history } = this.props;\n\n    invariant(\n      children == null || React.Children.count(children) === 1,\n      'A <Router> may have only one child element'\n    );\n\n    // Do this here so we can setState when a <Redirect> changes the\n    // location in componentWillMount. This happens e.g. when doing\n    // server rendering using a <StaticRouter>.\n    this.unlisten = history.listen(() => {\n      this.setState({\n        match: this.computeMatch(history.location.pathname)\n      });\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    warning(\n      this.props.history === nextProps.history,\n      'You cannot change <Router history>'\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisten();\n  }\n\n  render() {\n    const { children } = this.props;\n    return children;\n  }\n}\n\nexport default Router;\n\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-router/src/Router.js","'use strict';\n\nexports.__esModule = true;\nvar canUseDOM = exports.canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar addEventListener = exports.addEventListener = function addEventListener(node, event, listener) {\n  return node.addEventListener ? node.addEventListener(event, listener, false) : node.attachEvent('on' + event, listener);\n};\n\nvar removeEventListener = exports.removeEventListener = function removeEventListener(node, event, listener) {\n  return node.removeEventListener ? node.removeEventListener(event, listener, false) : node.detachEvent('on' + event, listener);\n};\n\nvar getConfirmation = exports.getConfirmation = function getConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\nvar supportsHistory = exports.supportsHistory = function supportsHistory() {\n  var ua = window.navigator.userAgent;\n\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n\n  return window.history && 'pushState' in window.history;\n};\n\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\nvar supportsPopStateOnHashChange = exports.supportsPopStateOnHashChange = function supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\nvar supportsGoWithoutReloadUsingHash = exports.supportsGoWithoutReloadUsingHash = function supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n};\n\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\nvar isExtraneousPopstateEvent = exports.isExtraneousPopstateEvent = function isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/DOMUtils.js\n// module id = 10\n// module chunks = 0","// export BrowserRouter from \"./BrowserRouter\";\nexport {default as HashRouter} from './HashRouter';\nexport {default as Link} from './Link';\n// export MemoryRouter from \"./MemoryRouter\";\n// export NavLink from \"./NavLink\";\n// export Prompt from \"./Prompt\";\n// export Redirect from \"./Redirect\";\nexport {default as Route} from './Route';\nexport {default as Router} from './Router';\nexport {default as createWindow} from './createWindow';\n// export StaticRouter from \"./StaticRouter\";\n// export Switch from \"./Switch\";\n// export generatePath from \"./generatePath\";\n// export matchPath from \"./matchPath\";\n// export withRouter from \"./withRouter\";\n\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-router/src/index.js","import React from 'medivh';\nimport { createHashHistory as createHistory } from './history';\nimport Router from './Router';\n\n/**\n * The public API for a <Router> that uses window.location.hash.\n */\nclass HashRouter extends React.Component {\n  history = createHistory(this.props);\n\n//   componentWillMount() {\n//     warning(\n//       !this.props.history,\n//       \"<HashRouter> ignores the history prop. To use a custom history, \" +\n//         \"use `import { Router }` instead of `import { HashRouter as Router }`.\"\n//     );\n//   }\n\n  render() {\n    return (<Router history={this.history} children={this.props.children} />);\n  }\n}\n\nexport default HashRouter;\n\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-router/src/HashRouter.js","import warning from 'warning';\nimport invariant from 'invariant';\nimport { createLocation, locationsAreEqual } from './LocationUtils';\nimport {\n  addLeadingSlash,\n  stripLeadingSlash,\n  stripTrailingSlash,\n  hasBasename,\n  stripBasename,\n  createPath\n} from './PathUtils';\nimport createTransitionManager from './createTransitionManager';\nimport {\n  getConfirmation,\n  supportsGoWithoutReloadUsingHash\n} from './DOMUtils';\n\n// const HashChangeEvent = \"hashchange\";\n\nconst HashPathCoders = {\n  hashbang: {\n    encodePath: path =>\n      path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path),\n    decodePath: path => (path.charAt(0) === '!' ? path.substr(1) : path)\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\n\n\nconst getHashPath = (window) => {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  const href = window.location.href;\n  // console.log('href :', href);\n  const hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n};\n\nconst pushHashPath = (path, window) => (window.location.hash = path);\n\nconst replaceHashPath = (path, window) => {\n  const hashIndex = window.location.href.indexOf('#');\n\n  window.location.replace(\n    window.location.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path\n  );\n};\n\nconst createHashHistory = (props = {}) => {\n  const window = props.context;\n  const sync = window.sync;\n  const globalLocation = window.location;\n  const globalHistory = window.history;\n  const canGoWithoutReload = supportsGoWithoutReloadUsingHash(window);\n\n  const { getUserConfirmation = getConfirmation, hashType = 'slash' } = props;\n  const basename = props.basename\n    ? stripTrailingSlash(addLeadingSlash(props.basename))\n    : '';\n\n  const { encodePath, decodePath } = HashPathCoders[hashType];\n  const updateLocation = (newLocation) => {\n    const prevlocation = window.location;\n    prevlocation.hash = newLocation.hash || '';\n    prevlocation.href = `${prevlocation.origin}${prevlocation.pathname}${prevlocation.search}${prevlocation.hash}`;\n  };\n  const getDOMLocation = () => {\n    let path = decodePath(getHashPath(window));\n\n    warning(\n      !basename || hasBasename(path, basename),\n      'You are attempting to use a basename on a page whose URL path does not begin ' +\n        'with the basename. Expected path \"' +\n        path +\n        '\" to begin with \"' +\n        basename +\n        '\".'\n    );\n\n    if (basename) path = stripBasename(path, basename);\n\n    return createLocation(path);\n  };\n\n  const transitionManager = createTransitionManager();\n\n  const setState = nextState => {\n    \n    Object.assign(history, nextState);\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  let forceNextPop = false;\n  let ignorePath = null;\n\n  const handleHashChange = (newLocation) => {\n    updateLocation(newLocation);\n    const path = getHashPath(window);\n    const encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath, window);\n    } else {\n      const location = getDOMLocation();\n      const prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual(prevLocation, location)) return; // A hashchange doesn't always == location change.\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n      ignorePath = null;\n      handlePop(location);\n    }\n  };\n  handleHashChange.$$keep = true;\n\n  const handlePop = location => {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      const action = 'POP';\n\n      transitionManager.confirmTransitionTo(\n        location,\n        action,\n        getUserConfirmation,\n        ok => {\n          if (ok) {\n            setState({ action, location });\n          } else {\n            revertPop(location);\n          }\n        }\n      );\n    }\n  };\n  function loc2GlobalLoc(loc) {\n    globalLocation.hash = `#${loc.pathname}${loc.search}${loc.hash}`;\n  }\n  const revertPop = fromLocation => {\n    const toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    let toIndex = allPaths.lastIndexOf(createPath(toLocation));\n\n    if (toIndex === -1) toIndex = 0;\n\n    let fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    const delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  // Ensure the hash is encoded properly before doing anything else.\n  const path = getHashPath(window);\n  const encodedPath = encodePath(path);\n\n  if (path !== encodedPath) replaceHashPath(encodedPath, window);\n\n  const initialLocation = getDOMLocation();\n  let allPaths = [createPath(initialLocation)];\n\n  // Public interface\n\n  const createHref = location =>\n    '#' + encodePath(basename + createPath(location));\n\n  const push = (path, state) => {\n    warning(\n      state === undefined,\n      'Hash history cannot push state; it is ignored'\n    );\n\n    const action = 'PUSH';\n    const location = createLocation(\n      path,\n      undefined,\n      undefined,\n      history.location\n    );\n    transitionManager.confirmTransitionTo(\n      location,\n      action,\n      getUserConfirmation,\n      ok => {\n        if (!ok) return;\n        const path = createPath(location);\n        const encodedPath = encodePath(basename + path);\n        const hashChanged = getHashPath(window) !== encodedPath;\n        if (hashChanged) {\n          // We cannot tell if a hashchange was caused by a PUSH, so we'd\n          // rather setState here and ignore the hashchange. The caveat here\n          // is that other hash histories in the page will consider it a POP.\n          ignorePath = path;\n          pushHashPath(encodedPath, window);\n          // window.updateLocationHash(history.location)\n          const prevIndex = allPaths.lastIndexOf(createPath(history.location));\n          const nextPaths = allPaths.slice(\n            0,\n            prevIndex === -1 ? 0 : prevIndex + 1\n          );\n\n          nextPaths.push(path);\n          allPaths = nextPaths;\n          setState({ action, location });\n        } else {\n          warning(\n            false,\n            'Hash history cannot PUSH the same path; a new entry will not be added to the history stack'\n          );\n\n          setState();\n        }\n      }\n    );\n  };\n\n  const replace = (path, state) => {\n    warning(\n      state === undefined,\n      'Hash history cannot replace state; it is ignored'\n    );\n\n    const action = 'REPLACE';\n    const location = createLocation(\n      path,\n      undefined,\n      undefined,\n      history.location\n    );\n\n    transitionManager.confirmTransitionTo(\n      location,\n      action,\n      getUserConfirmation,\n      ok => {\n        if (!ok) return;\n\n        const path = createPath(location);\n        const encodedPath = encodePath(basename + path);\n        const hashChanged = getHashPath(window) !== encodedPath;\n\n        if (hashChanged) {\n          // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n          // rather setState here and ignore the hashchange. The caveat here\n          // is that other hash histories in the page will consider it a POP.\n          ignorePath = path;\n          replaceHashPath(encodedPath, window);\n        }\n\n        const prevIndex = allPaths.indexOf(createPath(history.location));\n\n        if (prevIndex !== -1) allPaths[prevIndex] = path;\n        loc2GlobalLoc(location);\n        setState({ action, location });\n      }\n    );\n  };\n\n  const go = n => {\n    warning(\n      canGoWithoutReload,\n      'Hash history go(n) causes a full page reload in this browser'\n    );\n\n    globalHistory.go(n);\n  };\n\n  const goBack = () => go(-1);\n\n  const goForward = () => go(1);\n\n  let listenerCount = 0;\n\n  const checkDOMListeners = delta => {\n    if (!sync) return;\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      window.addHashEventListener(handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeHashEventListener(handleHashChange);\n    }\n  };\n\n  let isBlocked = false;\n\n  const block = (prompt = false) => {\n    const unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return () => {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  const listen = listener => {\n    const unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return () => {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  const history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref,\n    push,\n    replace,\n    sync,\n    go,\n    goBack,\n    goForward,\n    block,\n    listen\n  };\n\n  return history;\n};\n\nexport default createHashHistory;\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-router/src/history/createHashHistory.js","import resolvePathname from \"resolve-pathname\";\nimport valueEqual from \"value-equal\";\nimport { parsePath } from \"./PathUtils\";\n\nexport const createLocation = (path, state, key, currentLocation) => {\n  let location;\n  if (typeof path === \"string\") {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = { ...path };\n\n    if (location.pathname === undefined) location.pathname = \"\";\n\n    if (location.search) {\n      if (location.search.charAt(0) !== \"?\")\n        location.search = \"?\" + location.search;\n    } else {\n      location.search = \"\";\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== \"#\") location.hash = \"#\" + location.hash;\n    } else {\n      location.hash = \"\";\n    }\n\n    if (state !== undefined && location.state === undefined)\n      location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError(\n        'Pathname \"' +\n          location.pathname +\n          '\" could not be decoded. ' +\n          \"This is likely caused by an invalid percent-encoding.\"\n      );\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== \"/\") {\n      location.pathname = resolvePathname(\n        location.pathname,\n        currentLocation.pathname\n      );\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = \"/\";\n    }\n  }\n\n  return location;\n};\n\nexport const locationsAreEqual = (a, b) =>\n  a.pathname === b.pathname &&\n  a.search === b.search &&\n  a.hash === b.hash &&\n  a.key === b.key &&\n  valueEqual(a.state, b.state);\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-router/src/history/LocationUtils.js","import warning from \"warning\";\n\nconst createTransitionManager = (window) => {\n  let prompt = null;\n\n  const setPrompt = nextPrompt => {\n    warning(prompt == null, \"A history supports only one prompt at a time\");\n\n    prompt = nextPrompt;\n\n    return () => {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  };\n\n  const confirmTransitionTo = (\n    location,\n    action,\n    getUserConfirmation,\n    callback\n  ) => {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      const result =\n        typeof prompt === \"function\" ? prompt(location, action) : prompt;\n\n      if (typeof result === \"string\") {\n        if (typeof getUserConfirmation === \"function\") {\n          getUserConfirmation(window,result, callback);\n        } else {\n          warning(\n            false,\n            \"A history needs a getUserConfirmation function in order to use a prompt message\"\n          );\n\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  };\n\n  let listeners = [];\n\n  const appendListener = fn => {\n    let isActive = true;\n\n    const listener = (...args) => {\n      if (isActive) fn(...args);\n    };\n\n    listeners.push(listener);\n\n    return () => {\n      isActive = false;\n      listeners = listeners.filter(item => item !== listener);\n    };\n  };\n\n  const notifyListeners = (...args) => {\n    listeners.forEach(listener => listener(...args));\n  };\n\n  return {\n    setPrompt,\n    confirmTransitionTo,\n    appendListener,\n    notifyListeners\n  };\n};\n\nexport default createTransitionManager;\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-router/src/history/createTransitionManager.js","// export const canUseDOM = !!(\n//     typeof window !== \"undefined\" &&\n//     window.document &&\n//     window.document.createElement\n//   );\n  \n  export const getConfirmation = (window,message, callback) =>\n    callback(window.confirm(message)); // eslint-disable-line no-alert\n  \n\n  /**\n   * Returns true if browser fires popstate on hash change.\n   * IE10 and IE11 do not.\n   */\n  export const supportsPopStateOnHashChange = (window) =>\n    window.navigator.userAgent.indexOf(\"Trident\") === -1;\n  \n  /**\n   * Returns false if using go(n) with hash history causes a full page reload.\n   */\n  export const supportsGoWithoutReloadUsingHash = (window) =>\n    window.navigator.userAgent.indexOf(\"Firefox\") === -1;\n  \n  /**\n   * Returns true if a given popstate event is an extraneous WebKit event.\n   * Accounts for the fact that Chrome on iOS fires real popstate events\n   * containing undefined state when pressing the back button.\n   */\n  export const isExtraneousPopstateEvent = (window) =>\n    event.state === undefined && window.navigator.userAgent.indexOf(\"CriOS\") === -1;\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-router/src/history/DOMUtils.js","import React from 'medivh';\nimport invariant from 'invariant';\nimport { createLocation } from 'history';\n\nconst isModifiedEvent = event =>\n  !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nclass Link extends React.Component {\n\n  static defaultProps = {\n    replace: false\n  };\n\n\n  handleClick = event => {\n    if (this.props.onClick) this.props.onClick(event);\n    if (\n      !event.defaultPrevented && // onClick prevented default\n      event.button === 0 && // ignore everything but left clicks\n      !this.props.target && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n    ) {\n\n      const { history } = this.context.router;\n      const { replace, to } = this.props;\n      if (replace) {\n        history.replace(to);\n      } else {\n        history.push(to);\n      }\n    }\n  };\n\n  render() {\n    const { replace, to, ...props } = this.props; // eslint-disable-line no-unused-vars\n\n    invariant(\n      this.context.router,\n      'You should not use <Link> outside a <Router>'\n    );\n\n    invariant(to !== undefined, 'You must specify the \"to\" property');\n\n    const { history } = this.context.router;\n    const location =\n      typeof to === 'string'\n        ? createLocation(to, null, null, history.location)\n        : to;\n\n    let href = 'javascript:void(0)';\n    if (history.sync) {\n      href = history.createHref(location);\n    }\n    return (\n      <a {...props} onClick={this.handleClick} href={href} />\n    );\n  }\n}\n\nexport default Link;\n\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-router/src/Link.js","'use strict';\n\nexports.__esModule = true;\nexports.createPath = exports.parsePath = exports.locationsAreEqual = exports.createLocation = exports.createMemoryHistory = exports.createHashHistory = exports.createBrowserHistory = undefined;\n\nvar _LocationUtils = require('./LocationUtils');\n\nObject.defineProperty(exports, 'createLocation', {\n  enumerable: true,\n  get: function get() {\n    return _LocationUtils.createLocation;\n  }\n});\nObject.defineProperty(exports, 'locationsAreEqual', {\n  enumerable: true,\n  get: function get() {\n    return _LocationUtils.locationsAreEqual;\n  }\n});\n\nvar _PathUtils = require('./PathUtils');\n\nObject.defineProperty(exports, 'parsePath', {\n  enumerable: true,\n  get: function get() {\n    return _PathUtils.parsePath;\n  }\n});\nObject.defineProperty(exports, 'createPath', {\n  enumerable: true,\n  get: function get() {\n    return _PathUtils.createPath;\n  }\n});\n\nvar _createBrowserHistory2 = require('./createBrowserHistory');\n\nvar _createBrowserHistory3 = _interopRequireDefault(_createBrowserHistory2);\n\nvar _createHashHistory2 = require('./createHashHistory');\n\nvar _createHashHistory3 = _interopRequireDefault(_createHashHistory2);\n\nvar _createMemoryHistory2 = require('./createMemoryHistory');\n\nvar _createMemoryHistory3 = _interopRequireDefault(_createMemoryHistory2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.createBrowserHistory = _createBrowserHistory3.default;\nexports.createHashHistory = _createHashHistory3.default;\nexports.createMemoryHistory = _createMemoryHistory3.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/index.js\n// module id = 19\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _createTransitionManager = require('./createTransitionManager');\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nvar _DOMUtils = require('./DOMUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar getHistoryState = function getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n};\n\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\nvar createBrowserHistory = function createBrowserHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  (0, _invariant2.default)(_DOMUtils.canUseDOM, 'Browser history needs a DOM');\n\n  var globalHistory = window.history;\n  var canUseHistory = (0, _DOMUtils.supportsHistory)();\n  var needsHashChangeListener = !(0, _DOMUtils.supportsPopStateOnHashChange)();\n\n  var _props$forceRefresh = props.forceRefresh,\n      forceRefresh = _props$forceRefresh === undefined ? false : _props$forceRefresh,\n      _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? _DOMUtils.getConfirmation : _props$getUserConfirm,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n\n  var basename = props.basename ? (0, _PathUtils.stripTrailingSlash)((0, _PathUtils.addLeadingSlash)(props.basename)) : '';\n\n  var getDOMLocation = function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n\n\n    var path = pathname + search + hash;\n\n    (0, _warning2.default)(!basename || (0, _PathUtils.hasBasename)(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n\n    if (basename) path = (0, _PathUtils.stripBasename)(path, basename);\n\n    return (0, _LocationUtils.createLocation)(path, state, key);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var transitionManager = (0, _createTransitionManager2.default)();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var handlePopState = function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if ((0, _DOMUtils.isExtraneousPopstateEvent)(event)) return;\n\n    handlePop(getDOMLocation(event.state));\n  };\n\n  var handleHashChange = function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  };\n\n  var forceNextPop = false;\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({ action: action, location: location });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n\n    if (toIndex === -1) toIndex = 0;\n\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key];\n\n  // Public interface\n\n  var createHref = function createHref(location) {\n    return basename + (0, _PathUtils.createPath)(location);\n  };\n\n  var push = function push(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'PUSH';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.pushState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');\n\n        window.location.href = href;\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.replaceState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');\n\n        window.location.replace(href);\n      }\n    });\n  };\n\n  var go = function go(n) {\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexports.default = createBrowserHistory;\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/createBrowserHistory.js\n// module id = 20\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _createTransitionManager = require('./createTransitionManager');\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nvar _DOMUtils = require('./DOMUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HashChangeEvent = 'hashchange';\n\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + (0, _PathUtils.stripLeadingSlash)(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: _PathUtils.stripLeadingSlash,\n    decodePath: _PathUtils.addLeadingSlash\n  },\n  slash: {\n    encodePath: _PathUtils.addLeadingSlash,\n    decodePath: _PathUtils.addLeadingSlash\n  }\n};\n\nvar getHashPath = function getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n};\n\nvar pushHashPath = function pushHashPath(path) {\n  return window.location.hash = path;\n};\n\nvar replaceHashPath = function replaceHashPath(path) {\n  var hashIndex = window.location.href.indexOf('#');\n\n  window.location.replace(window.location.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path);\n};\n\nvar createHashHistory = function createHashHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  (0, _invariant2.default)(_DOMUtils.canUseDOM, 'Hash history needs a DOM');\n\n  var globalHistory = window.history;\n  var canGoWithoutReload = (0, _DOMUtils.supportsGoWithoutReloadUsingHash)();\n\n  var _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? _DOMUtils.getConfirmation : _props$getUserConfirm,\n      _props$hashType = props.hashType,\n      hashType = _props$hashType === undefined ? 'slash' : _props$hashType;\n\n  var basename = props.basename ? (0, _PathUtils.stripTrailingSlash)((0, _PathUtils.addLeadingSlash)(props.basename)) : '';\n\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n\n  var getDOMLocation = function getDOMLocation() {\n    var path = decodePath(getHashPath());\n\n    (0, _warning2.default)(!basename || (0, _PathUtils.hasBasename)(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n\n    if (basename) path = (0, _PathUtils.stripBasename)(path, basename);\n\n    return (0, _LocationUtils.createLocation)(path);\n  };\n\n  var transitionManager = (0, _createTransitionManager2.default)();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  var handleHashChange = function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n\n      if (!forceNextPop && (0, _LocationUtils.locationsAreEqual)(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === (0, _PathUtils.createPath)(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n\n      handlePop(location);\n    }\n  };\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({ action: action, location: location });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf((0, _PathUtils.createPath)(toLocation));\n\n    if (toIndex === -1) toIndex = 0;\n\n    var fromIndex = allPaths.lastIndexOf((0, _PathUtils.createPath)(fromLocation));\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  // Ensure the hash is encoded properly before doing anything else.\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n\n  var initialLocation = getDOMLocation();\n  var allPaths = [(0, _PathUtils.createPath)(initialLocation)];\n\n  // Public interface\n\n  var createHref = function createHref(location) {\n    return '#' + encodePath(basename + (0, _PathUtils.createPath)(location));\n  };\n\n  var push = function push(path, state) {\n    (0, _warning2.default)(state === undefined, 'Hash history cannot push state; it is ignored');\n\n    var action = 'PUSH';\n    var location = (0, _LocationUtils.createLocation)(path, undefined, undefined, history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var path = (0, _PathUtils.createPath)(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n\n        var prevIndex = allPaths.lastIndexOf((0, _PathUtils.createPath)(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n\n        nextPaths.push(path);\n        allPaths = nextPaths;\n\n        setState({ action: action, location: location });\n      } else {\n        (0, _warning2.default)(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack');\n\n        setState();\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    (0, _warning2.default)(state === undefined, 'Hash history cannot replace state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = (0, _LocationUtils.createLocation)(path, undefined, undefined, history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var path = (0, _PathUtils.createPath)(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf((0, _PathUtils.createPath)(history.location));\n\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n\n      setState({ action: action, location: location });\n    });\n  };\n\n  var go = function go(n) {\n    (0, _warning2.default)(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser');\n\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexports.default = createHashHistory;\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/createHashHistory.js\n// module id = 21\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _PathUtils = require('./PathUtils');\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _createTransitionManager = require('./createTransitionManager');\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar clamp = function clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n};\n\n/**\n * Creates a history object that stores locations in memory.\n */\nvar createMemoryHistory = function createMemoryHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var getUserConfirmation = props.getUserConfirmation,\n      _props$initialEntries = props.initialEntries,\n      initialEntries = _props$initialEntries === undefined ? ['/'] : _props$initialEntries,\n      _props$initialIndex = props.initialIndex,\n      initialIndex = _props$initialIndex === undefined ? 0 : _props$initialIndex,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n\n\n  var transitionManager = (0, _createTransitionManager2.default)();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? (0, _LocationUtils.createLocation)(entry, undefined, createKey()) : (0, _LocationUtils.createLocation)(entry, undefined, entry.key || createKey());\n  });\n\n  // Public interface\n\n  var createHref = _PathUtils.createPath;\n\n  var push = function push(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'PUSH';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n\n      var nextEntries = history.entries.slice(0);\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  };\n\n  var replace = function replace(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      history.entries[history.index] = location;\n\n      setState({ action: action, location: location });\n    });\n  };\n\n  var go = function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var canGo = function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  };\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return transitionManager.setPrompt(prompt);\n  };\n\n  var listen = function listen(listener) {\n    return transitionManager.appendListener(listener);\n  };\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexports.default = createMemoryHistory;\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_history@4.7.2@history/createMemoryHistory.js\n// module id = 22\n// module chunks = 0","import warning from 'warning';\nimport invariant from 'invariant';\nimport React from 'medivh';\nimport matchPath from './matchPath';\n\nconst isEmptyChildren = children => children.length === 0;\n\n/**\n * The public API for matching a single path and rendering.\n */\nclass Route extends React.Component {\n  getChildContext() {\n    return {\n      router: {\n        ...this.context.router,\n        route: {\n          location: this.props.location || this.context.router.route.location,\n          match: this.state.match\n        }\n      }\n    };\n  }\n\n  state = {\n    match: this.computeMatch(this.props, this.context.router)\n  };\n\n  computeMatch(\n    { computedMatch, location, path, strict, exact, sensitive },\n    router\n  ) {\n    if (computedMatch) return computedMatch; // <Switch> already computed the match for us\n\n    invariant(\n      router,\n      'You should not use <Route> or withRouter() outside a <Router>'\n    );\n\n    const { route } = router;\n    const pathname = (location || route.location).pathname;\n    // debugger;\n    return matchPath(pathname, { path, strict, exact, sensitive }, route.match);\n  }\n\n  componentWillMount() {\n    warning(\n      !(this.props.component && this.props.render),\n      'You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored'\n    );\n\n    warning(\n      !(\n        this.props.component &&\n        this.props.children &&\n        !isEmptyChildren(this.props.children)\n      ),\n      'You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored'\n    );\n\n    warning(\n      !(\n        this.props.render &&\n        this.props.children &&\n        !isEmptyChildren(this.props.children)\n      ),\n      'You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored'\n    );\n  }\n\n  componentWillReceiveProps(nextProps, nextContext) {\n    warning(\n      !(nextProps.location && !this.props.location),\n      '<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no \"location\" prop and then provided one on a subsequent render.'\n    );\n\n    warning(\n      !(!nextProps.location && this.props.location),\n      '<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a \"location\" prop initially but omitted it on a subsequent render.'\n    );\n    this.setState({\n      match: this.computeMatch(nextProps, nextContext.router)\n    });\n  }\n\n  render() {\n    const { match } = this.state;\n    // console.log('match :', match);\n    const { children, component, render } = this.props;\n    const { history, route, staticContext } = this.context.router;\n    const location = this.props.location || route.location;\n    const props = { match, location, history, staticContext };\n\n    if (component) return match ? React.createElement(component, props) : null;\n\n    if (render) return match ? render(props) : null;\n\n    if (typeof children === 'function') return children(props);\n\n    if (children && !isEmptyChildren(children))\n      return children;\n\n    return null;\n  }\n}\n\nexport default Route;\n\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-router/src/Route.js","import pathToRegexp from \"path-to-regexp\";\n\nconst patternCache = {};\nconst cacheLimit = 10000;\nlet cacheCount = 0;\n\nconst compilePath = (pattern, options) => {\n  const cacheKey = `${options.end}${options.strict}${options.sensitive}`;\n  const cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});\n\n  if (cache[pattern]) return cache[pattern];\n\n  const keys = [];\n  const re = pathToRegexp(pattern, keys, options);\n  const compiledPattern = { re, keys };\n\n  if (cacheCount < cacheLimit) {\n    cache[pattern] = compiledPattern;\n    cacheCount++;\n  }\n\n  return compiledPattern;\n};\n\n/**\n * Public API for matching a URL pathname to a path pattern.\n */\nconst matchPath = (pathname, options = {}, parent) => {\n  if (typeof options === \"string\") options = { path: options };\n\n  const { path, exact = false, strict = false, sensitive = false } = options;\n\n  if (path == null) return parent;\n\n  const { re, keys } = compilePath(path, { end: exact, strict, sensitive });\n  const match = re.exec(pathname);\n\n  if (!match) return null;\n\n  const [url, ...values] = match;\n  const isExact = pathname === url;\n\n  if (exact && !isExact) return null;\n\n  return {\n    path, // the path pattern used to match\n    url: path === \"/\" && url === \"\" ? \"/\" : url, // the matched portion of the URL\n    isExact, // whether or not we matched exactly\n    params: keys.reduce((memo, key, index) => {\n      memo[key.name] = values[index];\n      return memo;\n    }, {})\n  };\n};\n\nexport default matchPath;\n\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-router/src/matchPath.js","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_path-to-regexp@1.7.0@path-to-regexp/index.js\n// module id = 25\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/sheweichun/opensource/medivh/node_modules/_isarray@1.0.0@isarray/index.js\n// module id = 26\n// module chunks = 0","\nfunction appendHash(url, hash) {\n  if (url == null) return url;\n  if (!hash) return url;\n  const hashIndex = url.indexOf('#');\n  if (hashIndex >= 0 ) {\n    return url.substring(0, hashIndex) + hash;\n  }\n  return url + hash;\n}\n\n\n\n\nexport default function(Runtime, prefix, location, sync) {\n  const {invokeCallback} = Runtime;\n  const localLocation = {\n    host: location.host,\n    hostname: location.hostname,\n    origin: location.origin,\n    pathname: location.pathname,\n    port: location.port,\n    protocol: location.protocol,\n    reload() {\n\n    },\n    replace() {\n\n    }\n  };\n  Object.defineProperty(localLocation, 'hash', {\n    set: function(newHash) {\n      localLocation._hash = newHash;\n      localLocation.href = appendHash(location.href, newHash);\n      sync && invokeCallback(`${prefix}.window.changeHash`, newHash);\n    },\n    get: function() {\n      return localLocation._hash;\n    }\n  });\n  localLocation.hash = localLocation.hash;\n  const polyFill = {\n    sync,\n    addHashEventListener(event, handler, opt) {\n      invokeCallback(`${prefix}.window.addHashEventListener`, event, handler, opt);\n    },\n    removeHashEventListener(event, handler, opt) {\n      invokeCallback(`${prefix}.window.addEventListener`, event, handler, opt);\n    },\n    location: localLocation,\n    history: {\n      state: {\n\n      },\n      back() {\n\n      },\n      forward() {\n\n      },\n      go() {\n\n      },\n      pushState() {\n        \n      },\n      replaceState() {\n\n      }\n    },\n    navigator: {\n      userAgent: ''\n    },\n    confirm: function(message) {\n\n    },\n  };\n  return polyFill;\n}\n\n\n// WEBPACK FOOTER //\n// /Users/sheweichun/opensource/medivh/packages/medivh-router/src/createWindow.js"],"sourceRoot":""}